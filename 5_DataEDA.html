<!DOCTYPE html>
<html lang="en"><head>
<script src="5_DataEDA_files/libs/clipboard/clipboard.min.js"></script>
<script src="5_DataEDA_files/libs/quarto-html/tabby.min.js"></script>
<script src="5_DataEDA_files/libs/quarto-html/popper.min.js"></script>
<script src="5_DataEDA_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="5_DataEDA_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="5_DataEDA_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="5_DataEDA_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="5_DataEDA_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Yi-Ju Tseng">
  <title>5. Data EDA</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="5_DataEDA_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="5_DataEDA_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="5_DataEDA_files/libs/revealjs/dist/theme/quarto.css">
  <link href="5_DataEDA_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="5_DataEDA_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="5_DataEDA_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="5_DataEDA_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
  <script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">5. Data EDA</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Yi-Ju Tseng 
</div>
</div>
</div>

</section>
<section id="資料分析步驟" class="slide level2">
<h2>資料分析步驟</h2>
<ul>
<li>資料匯入</li>
<li>資料清洗處理</li>
<li><strong>資料分析</strong></li>
<li>資料呈現與視覺化</li>
</ul>
</section>
<section id="資料分析大綱" class="slide level2">
<h2>資料分析大綱</h2>
<ul>
<li>什麼是探索式資料分析</li>
<li>單變量量化分析</li>
<li>雙變量量化分析</li>
<li>量化的分析方式 w/ Python</li>
</ul>
</section>
<section id="前置作業" class="slide level2">
<h2>前置作業</h2>
<p>為了成功從https (加密封包傳輸)下載資料，首先取消證書驗證</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="im">import</span> ssl</span>
<span id="cb1-2"><a href="#cb1-2"></a>ssl._create_default_https_context <span class="op">=</span> ssl._create_unverified_context</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="什麼是探索式資料分析" class="slide level2">
<h2>什麼是探索式資料分析</h2>
<ul>
<li>探索式資料分析 (<strong>E</strong>xploratory <strong>D</strong>ata <strong>A</strong>nalysis)</li>
<li>在資料量 大/雜/髒 的時候，探索式資料分析非常重要</li>
<li>運用<strong>視覺化</strong>、<strong>基本的統計</strong>等工具，反覆的探索<strong>資料特性</strong>，獲取資料所包含的資訊、結構和特點</li>
<li>在進行複雜或嚴謹的分析之前，必須要對資料有更多認識，才能訂定<strong>對的資料分析方向</strong></li>
<li>通常<strong>不需要</strong>嚴謹的假設和細節呈現</li>
</ul>
</section>
<section id="探索式資料分析" class="slide level2">
<h2>探索式資料分析</h2>
<ul>
<li>分析各變數間的<strong>關聯性</strong>，看是否有預料之外的有趣發現</li>
<li>觀察資料內容是否符合預期，若否，檢查資料<strong>是否有誤</strong></li>
<li>檢查資料是否符合分析前的假設</li>
</ul>
<p>透過探索式分析來<strong>調整分析的方向</strong>，減少因分析方向錯誤所造成的時間浪費。</p>
</section>
<section id="探索式資料分析-1" class="slide level2">
<h2>探索式資料分析</h2>
<ul>
<li>圖形化Graphical
<ul>
<li>單變量Univariate</li>
<li>雙變量Bivariate</li>
<li>多變量Multivariate</li>
</ul></li>
<li>量化Quantitative (基礎統計)
<ul>
<li>單變量Univariate</li>
<li>雙變量Bivariate</li>
<li>多變量Multivariate</li>
</ul></li>
</ul>
</section>
<section id="圖形化的分析" class="slide level2">
<h2>圖形化的分析</h2>
<p>包括做圖與列表，將會在下章節介紹，本章節著重於量化的分析方式。</p>
</section>
<section id="資料分析大綱-1" class="slide level2">
<h2>資料分析大綱</h2>
<ul>
<li>什麼是探索式資料分析</li>
<li><strong>單變量量化分析</strong></li>
<li>雙變量量化分析</li>
<li>量化的分析方式 w/ Python</li>
</ul>
</section>
<section>
<section id="單變量量化分析" class="title-slide slide level1 center">
<h1>單變量量化分析</h1>

</section>
<section id="單變量量化分析-1" class="slide level2">
<h2>單變量量化分析</h2>
<p>資料初步統計，量化的分析方式可包含</p>
<ul>
<li>計算集中趨勢 Central Tendency
<ul>
<li>平均值 Mean <code>資料序列.mean()</code> or <code>st.mean(資料序列)</code></li>
<li>中位數 Median <code>資料序列.median()</code> or <code>st.median(資料序列)</code></li>
</ul></li>
</ul>
</section>
<section id="單變量量化分析--集中趨勢" class="slide level2">
<h2>單變量量化分析- 集中趨勢</h2>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="im">import</span> statistics <span class="im">as</span> st</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-3"><a href="#cb2-3"></a>data <span class="op">=</span> pd.read_csv(<span class="st">"https://raw.githubusercontent.com/yijutseng/StatwithPython/main/baseball_data.csv"</span>)</span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="bu">print</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                name handedness  height  weight   bavg   HR
0      Jose Cardenal      Right      70     150  0.275  138
1      Darrell Evans       Left      74     200  0.248  414
2      Buck Martinez      Right      70     190  0.225   58
3    John Wockenfuss      Right      72     190  0.262   86
4       Tommy McCraw       Left      72     183  0.246   75
..               ...        ...     ...     ...    ...  ...
300       Bob Watson      Right      72     201  0.295  184
301    Ken Harrelson      Right      74     190  0.239  131
302       Ed Charles      Right      70     170  0.263   86
303  Tony Conigliaro      Right      75     185  0.264  166
304      Phil Garner      Right      70     175  0.260  109

[305 rows x 6 columns]</code></pre>
</div>
</div>
</section>
<section id="單變量量化分析--集中趨勢-1" class="slide level2">
<h2>單變量量化分析- 集中趨勢</h2>
<p>平均值 Mean <code>資料序列.mean()</code> or <code>st.mean(資料序列)</code></p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a>st.mean(data[<span class="st">'height'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>72.80655737704917</code></pre>
</div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a>data[<span class="st">'height'</span>].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>72.80655737704917</code></pre>
</div>
</div>
</section>
<section id="單變量量化分析--集中趨勢-2" class="slide level2">
<h2>單變量量化分析- 集中趨勢</h2>
<ul>
<li>The pandas series’s function can deal with multiple columns
<ul>
<li>get multiple columns using <code>[[column 1,column 2]]</code></li>
</ul></li>
</ul>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a>data[[<span class="st">'height'</span>,<span class="st">'weight'</span>]].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>height     72.806557
weight    187.449180
dtype: float64</code></pre>
</div>
</div>
</section>
<section id="單變量量化分析--集中趨勢-3" class="slide level2">
<h2>單變量量化分析- 集中趨勢</h2>
<p>中位數 Median <code>資料序列.median()</code> or <code>st.median(資料序列)</code></p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a>st.median(data[<span class="st">'height'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>73</code></pre>
</div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a>data[<span class="st">'height'</span>].median()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>73.0</code></pre>
</div>
</div>
</section>
<section id="單變量量化分析--分散程度" class="slide level2">
<h2>單變量量化分析- 分散程度</h2>
<p>計算資料分散程度可包含</p>
<ul>
<li>最小值 Min <code>min()</code></li>
<li>最大值 Max <code>max()</code></li>
<li>範圍 Range <code>range()</code></li>
<li>四分位差 Quartiles <code>quantile()</code></li>
<li>變異數 Variance <code>st.var(資料)</code> or <code>pandas資料序列.var()</code></li>
<li>標準差 Standard deviation <code>st.stdev(資料)</code> or <code>pandas資料序列.std()</code></li>
</ul>
</section>
<section id="單變量量化分析--分散程度-1" class="slide level2">
<h2>單變量量化分析- 分散程度</h2>
<div class="columns">
<div class="column">
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a>st.variance(data[<span class="st">'height'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>3.2223252804141502</code></pre>
</div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1"></a>data[<span class="st">'height'</span>].var()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>3.2223252804141502</code></pre>
</div>
</div>
</div><div class="column">
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a>st.stdev(data[<span class="st">'height'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>1.7950836416206768</code></pre>
</div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1"></a>data[<span class="st">'height'</span>].std()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>1.7950836416206768</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="單變量量化分析--分散程度-2" class="slide level2">
<h2>單變量量化分析- 分散程度</h2>
<ul>
<li><code>st.quantiles(pandas series, n=the number of partitions)</code></li>
<li><code>pandas資料序列.quantile(percentiles you want to get)</code></li>
</ul>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1"></a>st.quantiles(data[<span class="st">'height'</span>],n<span class="op">=</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>[72.0, 73.0, 74.0]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a>data[<span class="st">'height'</span>].quantile([<span class="fl">0.25</span>,<span class="fl">0.5</span>,<span class="fl">0.75</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>0.25    72.0
0.50    73.0
0.75    74.0
Name: height, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="單變量量化分析--一次搞定" class="slide level2">
<h2>單變量量化分析- 一次搞定</h2>
<ul>
<li>It is impossible to get all the statistics one by one</li>
<li>pandas series provide a warp up function
<ul>
<li><code>pandas資料序列.describe()</code></li>
</ul></li>
</ul>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a>data[<span class="st">'height'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>count    305.000000
mean      72.806557
std        1.795084
min       67.000000
25%       72.000000
50%       73.000000
75%       74.000000
max       78.000000
Name: height, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="單變量量化分析--一次搞定-1" class="slide level2">
<h2>單變量量化分析- 一次搞定</h2>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a><span class="bu">print</span>(data.describe())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           height      weight       bavg          HR
count  305.000000  305.000000  305.00000  305.000000
mean    72.806557  187.449180    0.26142  139.426230
std      1.795084   15.439766    0.01889   91.206363
min     67.000000  150.000000    0.21200   50.000000
25%     72.000000  175.000000    0.24800   76.000000
50%     73.000000  190.000000    0.26000  109.000000
75%     74.000000  195.000000    0.27400  173.000000
max     78.000000  230.000000    0.32800  563.000000</code></pre>
</div>
</div>
</section>
<section id="hands-on-資料清理" class="slide level2">
<h2>Hands-on 資料清理</h2>
<ul>
<li>以<a href="https://plvr.land.moi.gov.tw/DownloadOpenData">房屋實價登錄資料</a>為例，首先載入<a href="https://raw.githubusercontent.com/CGUIM-BigDataAnalysis/BigDataCGUIM/master/EMBA_BigData/Data/h_lvr_land_a.csv">桃園市不動產買賣</a></li>
<li>可明顯看出除了中文欄位名稱外，第一個row是英文欄位名稱，而不是資料</li>
</ul>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1"></a>house <span class="op">=</span> pd.read_csv(<span class="st">"https://raw.githubusercontent.com/CGUIM-BigDataAnalysis/BigDataCGUIM/master/EMBA_BigData/Data/h_lvr_land_a.csv"</span>)</span>
<span id="cb30-2"><a href="#cb30-2"></a><span class="bu">print</span>(house)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                      鄉鎮市區              交易標的  \
0    The villages and towns urban district  transaction sign   
1                                      桃園區      房地(土地+建物)+車位   
2                                      桃園區                土地   
3                                      桃園區                土地   
4                                      龍潭區      房地(土地+建物)+車位   
..                                     ...               ...   
833                                    桃園區      房地(土地+建物)+車位   
834                                    桃園區      房地(土地+建物)+車位   
835                                    桃園區      房地(土地+建物)+車位   
836                                    桃園區      房地(土地+建物)+車位   
837                                    大園區      房地(土地+建物)+車位   

                                              土地位置建物門牌  \
0    land sector position building sector house num...   
1                                 桃園市桃園區大業路一段１２１巷１２號九樓   
2                                          延壽段1056-2地號   
3                                            延壽段1056地號   
4                                    桃園市龍潭區永昌路５１巷２５號三樓   
..                                                 ...   
833                                   桃園市桃園區民光東路３１０巷１號   
834                                    桃園市桃園區朝陽街５０２號三樓   
835                                   桃園市桃園區朝陽街５２６號十二樓   
836                                    桃園市桃園區朝陽街５１８號五樓   
837                                    桃園市大園區文興街７號七樓之２   

                               土地移轉總面積平方公尺  \
0    land shifting total area square meter   
1                                    35.44   
2                                     8.45   
3                                     8.22   
4                                     39.8   
..                                     ...   
833                                  24.38   
834                                  13.28   
835                                  18.96   
836                                  16.09   
837                                   28.2   

                                  都市土地使用分區  \
0    the use zoning or compiles and checks   
1                                        住   
2                                        住   
3                                        住   
4                                        住   
..                                     ...   
833                                      住   
834                                      住   
835                                      住   
836                                      住   
837                                      住   

                                非都市土地使用分區                非都市土地使用編定  \
0    the non-metropolis land use district  non-metropolis land use   
1                                     NaN                      NaN   
2                                     NaN                      NaN   
3                                     NaN                      NaN   
4                                     NaN                      NaN   
..                                    ...                      ...   
833                                   NaN                      NaN   
834                                   NaN                      NaN   
835                                   NaN                      NaN   
836                                   NaN                      NaN   
837                                   NaN                      NaN   

                              交易年月日                   交易筆棟數            移轉層次  \
0    transaction year month and day  transaction pen number  shifting level   
1                           1130203               土地1建物1車位2              九層   
2                           1130201               土地1建物0車位0             NaN   
3                           1130201               土地1建物0車位0             NaN   
4                           1130202               土地1建物1車位1              三層   
..                              ...                     ...             ...   
833                         1090725               土地1建物1車位2      一層，見其他登記事項   
834                         1090725               土地1建物1車位1              三層   
835                         1090727               土地1建物1車位1             十二層   
836                         1090726               土地1建物1車位1              五層   
837                         1000107               土地1建物1車位1              七層   

     ...                車位類別                             車位移轉總面積平方公尺  \
0    ...  the berth category  berth shifting total area square meter   
1    ...                坡道平面                                     0.0   
2    ...                 NaN                                     0.0   
3    ...                 NaN                                     0.0   
4    ...                坡道平面                                   15.99   
..   ...                 ...                                     ...   
833  ...                坡道平面                                    66.3   
834  ...                坡道平面                                   33.15   
835  ...                坡道平面                                   33.15   
836  ...                坡道平面                                   33.15   
837  ...                坡道平面                                     0.0   

                         車位總價元                                        備註  \
0    the berth total price NTD                                  the note   
1                            0             贈熱水器.瓦斯爐.沙發組.冷氣X5.廚具.流理臺.抽油煙機   
2                            0                                       NaN   
3                            0                                       NaN   
4                      1600000                                       NaN   
..                         ...                                       ...   
833                    3350000                         預售屋、或土地及建物分件登記案件；   
834                    1550000  111.05.25以1130萬元，向前手買受。預售屋、或土地及建物分件登記案件；   
835                    1650000                         預售屋、或土地及建物分件登記案件；   
836                    1450000                         預售屋、或土地及建物分件登記案件；   
837                          0                                       NaN   

                      編號               主建物面積                   附屬建物面積  \
0          serial number  main building area  auxiliary building area   
1    RPPNMLOKKHJGFAH67DA               97.45                     8.56   
2    RPUOMLQKKHJGFAH48DA                 0.0                      0.0   
3    RPXOMLQKKHJGFAH78DA                 0.0                      0.0   
4    RPSNMLRKKHJGFCH48DA               82.17                      0.0   
..                   ...                 ...                      ...   
833  RPPPMLQJKIIGFAH97DA               96.88                      0.0   
834  RPWPMLQJKIIGFAH68DA                49.0                      0.0   
835  RPSPNLOJKIIGFAH18DA               70.09                      0.0   
836  RPXSMLPJKIIGFAH98DA               60.46                      0.0   
837  RPRNMLTJJHJGFEH58DA                55.1                      0.0   

             陽台面積        電梯                移轉編號  
0    balcony area  elevator  transaction number  
1           15.96         有                 NaN  
2             0.0         無                 NaN  
3             0.0         無                 NaN  
4            8.01         有                 NaN  
..            ...       ...                 ...  
833           0.0         有                 NaN  
834          3.73         有                 NaN  
835           5.2         有                 NaN  
836          3.63         有                 NaN  
837          3.78         有                 235  

[838 rows x 33 columns]</code></pre>
</div>
</div>
</section>
<section id="hands-on-資料清理-1" class="slide level2">
<h2>Hands-on 資料清理</h2>
<ul>
<li>更新資料框，使用row做子集的方式<code>資料框[row slice]</code>，將第一個row刪除</li>
</ul>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a>house<span class="op">=</span>house[<span class="dv">1</span>:]</span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="bu">print</span>(house)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    鄉鎮市區          交易標的              土地位置建物門牌 土地移轉總面積平方公尺 都市土地使用分區 非都市土地使用分區  \
1    桃園區  房地(土地+建物)+車位  桃園市桃園區大業路一段１２１巷１２號九樓       35.44        住       NaN   
2    桃園區            土地           延壽段1056-2地號        8.45        住       NaN   
3    桃園區            土地             延壽段1056地號        8.22        住       NaN   
4    龍潭區  房地(土地+建物)+車位     桃園市龍潭區永昌路５１巷２５號三樓        39.8        住       NaN   
5    中壢區     房地(土地+建物)     桃園市中壢區中平路１３７號八樓之７        3.01        商       NaN   
..   ...           ...                   ...         ...      ...       ...   
833  桃園區  房地(土地+建物)+車位      桃園市桃園區民光東路３１０巷１號       24.38        住       NaN   
834  桃園區  房地(土地+建物)+車位       桃園市桃園區朝陽街５０２號三樓       13.28        住       NaN   
835  桃園區  房地(土地+建物)+車位      桃園市桃園區朝陽街５２６號十二樓       18.96        住       NaN   
836  桃園區  房地(土地+建物)+車位       桃園市桃園區朝陽街５１８號五樓       16.09        住       NaN   
837  大園區  房地(土地+建物)+車位       桃園市大園區文興街７號七樓之２        28.2        住       NaN   

    非都市土地使用編定    交易年月日      交易筆棟數        移轉層次  ...  車位類別 車位移轉總面積平方公尺    車位總價元  \
1         NaN  1130203  土地1建物1車位2          九層  ...  坡道平面         0.0        0   
2         NaN  1130201  土地1建物0車位0         NaN  ...   NaN         0.0        0   
3         NaN  1130201  土地1建物0車位0         NaN  ...   NaN         0.0        0   
4         NaN  1130202  土地1建物1車位1          三層  ...  坡道平面       15.99  1600000   
5         NaN  1130202  土地1建物1車位0          八層  ...   NaN         0.0        0   
..        ...      ...        ...         ...  ...   ...         ...      ...   
833       NaN  1090725  土地1建物1車位2  一層，見其他登記事項  ...  坡道平面        66.3  3350000   
834       NaN  1090725  土地1建物1車位1          三層  ...  坡道平面       33.15  1550000   
835       NaN  1090727  土地1建物1車位1         十二層  ...  坡道平面       33.15  1650000   
836       NaN  1090726  土地1建物1車位1          五層  ...  坡道平面       33.15  1450000   
837       NaN  1000107  土地1建物1車位1          七層  ...  坡道平面         0.0        0   

                                           備註                   編號  主建物面積  \
1               贈熱水器.瓦斯爐.沙發組.冷氣X5.廚具.流理臺.抽油煙機  RPPNMLOKKHJGFAH67DA  97.45   
2                                         NaN  RPUOMLQKKHJGFAH48DA    0.0   
3                                         NaN  RPXOMLQKKHJGFAH78DA    0.0   
4                                         NaN  RPSNMLRKKHJGFCH48DA  82.17   
5                       親友、員工、共有人或其他特殊關係間之交易；  RPPNMLRKKHJGFBH18EA  21.02   
..                                        ...                  ...    ...   
833                         預售屋、或土地及建物分件登記案件；  RPPPMLQJKIIGFAH97DA  96.88   
834  111.05.25以1130萬元，向前手買受。預售屋、或土地及建物分件登記案件；  RPWPMLQJKIIGFAH68DA   49.0   
835                         預售屋、或土地及建物分件登記案件；  RPSPNLOJKIIGFAH18DA  70.09   
836                         預售屋、或土地及建物分件登記案件；  RPXSMLPJKIIGFAH98DA  60.46   
837                                       NaN  RPRNMLTJJHJGFEH58DA   55.1   

    附屬建物面積   陽台面積 電梯 移轉編號  
1     8.56  15.96  有  NaN  
2      0.0    0.0  無  NaN  
3      0.0    0.0  無  NaN  
4      0.0   8.01  有  NaN  
5      0.0   4.72  有  NaN  
..     ...    ... ..  ...  
833    0.0    0.0  有  NaN  
834    0.0   3.73  有  NaN  
835    0.0    5.2  有  NaN  
836    0.0   3.63  有  NaN  
837    0.0   3.78  有  235  

[837 rows x 33 columns]</code></pre>
</div>
</div>
</section>
<section id="hands-on-資料清理-2" class="slide level2">
<h2>Hands-on 資料清理</h2>
<p>使用<code>資料框.info()</code>查看資料框內容</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1"></a>house.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 837 entries, 1 to 837
Data columns (total 33 columns):
 #   Column       Non-Null Count  Dtype 
---  ------       --------------  ----- 
 0   鄉鎮市區         837 non-null    object
 1   交易標的         837 non-null    object
 2   土地位置建物門牌     837 non-null    object
 3   土地移轉總面積平方公尺  837 non-null    object
 4   都市土地使用分區     692 non-null    object
 5   非都市土地使用分區    94 non-null     object
 6   非都市土地使用編定    94 non-null     object
 7   交易年月日        837 non-null    object
 8   交易筆棟數        837 non-null    object
 9   移轉層次         684 non-null    object
 10  總樓層數         684 non-null    object
 11  建物型態         837 non-null    object
 12  主要用途         684 non-null    object
 13  主要建材         684 non-null    object
 14  建築完成年月       683 non-null    object
 15  建物移轉總面積平方公尺  837 non-null    object
 16  建物現況格局-房     837 non-null    object
 17  建物現況格局-廳     837 non-null    object
 18  建物現況格局-衛     837 non-null    object
 19  建物現況格局-隔間    837 non-null    object
 20  有無管理組織       837 non-null    object
 21  總價元          837 non-null    object
 22  單價元平方公尺      829 non-null    object
 23  車位類別         462 non-null    object
 24  車位移轉總面積平方公尺  837 non-null    object
 25  車位總價元        837 non-null    object
 26  備註           492 non-null    object
 27  編號           837 non-null    object
 28  主建物面積        837 non-null    object
 29  附屬建物面積       837 non-null    object
 30  陽台面積         837 non-null    object
 31  電梯           837 non-null    object
 32  移轉編號         235 non-null    object
dtypes: object(33)
memory usage: 215.9+ KB</code></pre>
</div>
</div>
</section>
<section id="hands-on-單變量量化分析" class="slide level2">
<h2>Hands-on 單變量量化分析</h2>
<ul>
<li>分析<a href="https://raw.githubusercontent.com/CGUIM-BigDataAnalysis/BigDataCGUIM/master/EMBA_BigData/Data/h_lvr_land_a.csv">桃園市不動產買賣</a>資料</li>
<li>試著統計平均<strong>總價元</strong></li>
<li>試著統計平均<strong>單價元平方公尺</strong></li>
<li>Hint: 資料型態可能需要調整(<code>pd.to_numeric(pandas資料序列)</code>)</li>
</ul>
</section>
<section id="資料分析大綱-2" class="slide level2">
<h2>資料分析大綱</h2>
<ul>
<li>什麼是探索式資料分析</li>
<li>單變量量化分析</li>
<li><strong>雙變量量化分析</strong></li>
<li>量化的分析方式 w/ Python</li>
</ul>
</section></section>
<section>
<section id="雙變量量化分析" class="title-slide slide level1 center">
<h1>雙變量量化分析</h1>

</section>
<section id="雙變量量化分析-1" class="slide level2">
<h2>雙變量量化分析</h2>
<ul>
<li>列聯表 Crosstabs
<ul>
<li><code>pd.crosstab(pandas資料序列1,pandas資料序列2)</code></li>
</ul></li>
<li>相關性 Correlation
<ul>
<li><code>pandas資料序列.corr(另一個pandas資料序列)</code></li>
</ul></li>
</ul>
</section>
<section id="資料前處理---13" class="slide level2">
<h2>資料前處理 - 1/3</h2>
<p>為了後續範例，新增一個demo用資料，<strong>高打擊率</strong>，定義為打擊率&gt;0.274</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1"></a>data[<span class="st">'bavg'</span>]<span class="op">&gt;</span><span class="fl">0.274</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>0       True
1      False
2      False
3      False
4      False
       ...  
300     True
301    False
302    False
303    False
304    False
Name: bavg, Length: 305, dtype: bool</code></pre>
</div>
</div>
</section>
<section id="資料前處理---23" class="slide level2">
<h2>資料前處理 - 2/3</h2>
<p>用<code>資料框.assign(欄位名稱=欄位資料)</code>新增新的欄位</p>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1"></a>data <span class="op">=</span> data.assign(high_rate<span class="op">=</span>pd.Series(data[<span class="st">'bavg'</span>]<span class="op">&gt;</span><span class="fl">0.274</span>).values)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="資料前處理---33" class="slide level2">
<h2>資料前處理 - 3/3</h2>
<p>查看結果</p>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1"></a><span class="bu">print</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                name handedness  height  weight   bavg   HR  high_rate
0      Jose Cardenal      Right      70     150  0.275  138       True
1      Darrell Evans       Left      74     200  0.248  414      False
2      Buck Martinez      Right      70     190  0.225   58      False
3    John Wockenfuss      Right      72     190  0.262   86      False
4       Tommy McCraw       Left      72     183  0.246   75      False
..               ...        ...     ...     ...    ...  ...        ...
300       Bob Watson      Right      72     201  0.295  184       True
301    Ken Harrelson      Right      74     190  0.239  131      False
302       Ed Charles      Right      70     170  0.263   86      False
303  Tony Conigliaro      Right      75     185  0.264  166      False
304      Phil Garner      Right      70     175  0.260  109      False

[305 rows x 7 columns]</code></pre>
</div>
</div>
</section>
<section id="雙變量量化分析--列聯表" class="slide level2">
<h2>雙變量量化分析- 列聯表</h2>
<ul>
<li>列連表多用在類別與類別資料的關係分析</li>
<li><strong>左右撇子</strong>與<strong>打擊率高還是低</strong>的關係</li>
</ul>
<p><code>pd.crosstab(pandas資料序列1,pandas資料序列2)</code></p>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1"></a>pd.crosstab(data[<span class="st">'handedness'</span>],data[<span class="st">'high_rate'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th">high_rate</th>
<th data-quarto-table-cell-role="th">False</th>
<th data-quarto-table-cell-role="th">True</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">handedness</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Both</td>
<td>12</td>
<td>6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Left</td>
<td>76</td>
<td>32</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Right</td>
<td>141</td>
<td>38</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="雙變量量化分析--相關性" class="slide level2">
<h2>雙變量量化分析 -相關性</h2>
<ul>
<li>相關性多用在連續與連續資料的關係分析</li>
<li><strong>全壘打數</strong>跟<strong>體重</strong>的關聯性（相關係數）</li>
</ul>
<p><code>pandas資料序列.corr(另一個pandas資料序列)</code></p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1"></a>data[<span class="st">'HR'</span>].corr(data[<span class="st">'weight'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>0.09421430339662694</code></pre>
</div>
</div>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1"></a>data[<span class="st">'HR'</span>].corr(data[<span class="st">'height'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>0.09656365344308959</code></pre>
</div>
</div>
</section>
<section id="hands-on-雙變量量化分析" class="slide level2">
<h2>Hands-on 雙變量量化分析</h2>
<ul>
<li>分析<a href="https://raw.githubusercontent.com/CGUIM-BigDataAnalysis/BigDataCGUIM/master/EMBA_BigData/Data/h_lvr_land_a.csv">桃園市不動產買賣</a>資料</li>
<li>試著統計平均<strong>總價元</strong>和<strong>單價元平方公尺</strong>的相關性</li>
<li>Hint: 資料型態可能需要調整(<code>pd.to_numeric(pandas資料序列)</code>)</li>
</ul>
</section>
<section id="資料分析大綱-3" class="slide level2">
<h2>資料分析大綱</h2>
<ul>
<li>什麼是探索式資料分析</li>
<li>單變量量化分析</li>
<li>雙變量量化分析</li>
<li><strong>量化的分析方式 w/ Python</strong></li>
</ul>
</section></section>
<section>
<section id="量化的分析方式-w-python" class="title-slide slide level1 center">
<h1>量化的分析方式 w/ Python</h1>

</section>
<section id="量化的分析方式-w-python-1" class="slide level2">
<h2>量化的分析方式 w/ Python</h2>
<ul>
<li>大多可用內建函數完成計算</li>
<li>但是在探索式分析時，常常需要<strong>資料分組</strong>
<ul>
<li>觀察<strong>男性</strong>和<strong>女性</strong>的血壓差異</li>
<li><strong>A隊</strong>與<strong>B隊</strong>的三分球命中率差異</li>
<li><strong>中鋒</strong>和<strong>後衛</strong>的助攻次數</li>
<li>…等</li>
</ul></li>
<li>若只用基本的內建函數計算，相當耗時
<ul>
<li>必須搭配pandas 內的 <code>groupby</code></li>
</ul></li>
</ul>
</section>
<section id="分組-pandas資料框.groupby" class="slide level2">
<h2>分組 pandas資料框.groupby()</h2>
<p>以<a href="https://plvr.land.moi.gov.tw/DownloadOpenData">房屋實價登錄資料</a>為例，首先先<a href="https://raw.githubusercontent.com/CGUIM-BigDataAnalysis/BigDataCGUIM/master/EMBA_BigData/Data/h_lvr_land_a.csv">桃園市不動產買賣</a></p>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1"></a>house <span class="op">=</span> pd.read_csv(<span class="st">"https://raw.githubusercontent.com/CGUIM-BigDataAnalysis/BigDataCGUIM/master/EMBA_BigData/Data/h_lvr_land_a.csv"</span>)</span>
<span id="cb46-2"><a href="#cb46-2"></a>house <span class="op">=</span> house[<span class="dv">1</span>:]</span>
<span id="cb46-3"><a href="#cb46-3"></a><span class="bu">print</span>(house)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    鄉鎮市區          交易標的              土地位置建物門牌 土地移轉總面積平方公尺 都市土地使用分區 非都市土地使用分區  \
1    桃園區  房地(土地+建物)+車位  桃園市桃園區大業路一段１２１巷１２號九樓       35.44        住       NaN   
2    桃園區            土地           延壽段1056-2地號        8.45        住       NaN   
3    桃園區            土地             延壽段1056地號        8.22        住       NaN   
4    龍潭區  房地(土地+建物)+車位     桃園市龍潭區永昌路５１巷２５號三樓        39.8        住       NaN   
5    中壢區     房地(土地+建物)     桃園市中壢區中平路１３７號八樓之７        3.01        商       NaN   
..   ...           ...                   ...         ...      ...       ...   
833  桃園區  房地(土地+建物)+車位      桃園市桃園區民光東路３１０巷１號       24.38        住       NaN   
834  桃園區  房地(土地+建物)+車位       桃園市桃園區朝陽街５０２號三樓       13.28        住       NaN   
835  桃園區  房地(土地+建物)+車位      桃園市桃園區朝陽街５２６號十二樓       18.96        住       NaN   
836  桃園區  房地(土地+建物)+車位       桃園市桃園區朝陽街５１８號五樓       16.09        住       NaN   
837  大園區  房地(土地+建物)+車位       桃園市大園區文興街７號七樓之２        28.2        住       NaN   

    非都市土地使用編定    交易年月日      交易筆棟數        移轉層次  ...  車位類別 車位移轉總面積平方公尺    車位總價元  \
1         NaN  1130203  土地1建物1車位2          九層  ...  坡道平面         0.0        0   
2         NaN  1130201  土地1建物0車位0         NaN  ...   NaN         0.0        0   
3         NaN  1130201  土地1建物0車位0         NaN  ...   NaN         0.0        0   
4         NaN  1130202  土地1建物1車位1          三層  ...  坡道平面       15.99  1600000   
5         NaN  1130202  土地1建物1車位0          八層  ...   NaN         0.0        0   
..        ...      ...        ...         ...  ...   ...         ...      ...   
833       NaN  1090725  土地1建物1車位2  一層，見其他登記事項  ...  坡道平面        66.3  3350000   
834       NaN  1090725  土地1建物1車位1          三層  ...  坡道平面       33.15  1550000   
835       NaN  1090727  土地1建物1車位1         十二層  ...  坡道平面       33.15  1650000   
836       NaN  1090726  土地1建物1車位1          五層  ...  坡道平面       33.15  1450000   
837       NaN  1000107  土地1建物1車位1          七層  ...  坡道平面         0.0        0   

                                           備註                   編號  主建物面積  \
1               贈熱水器.瓦斯爐.沙發組.冷氣X5.廚具.流理臺.抽油煙機  RPPNMLOKKHJGFAH67DA  97.45   
2                                         NaN  RPUOMLQKKHJGFAH48DA    0.0   
3                                         NaN  RPXOMLQKKHJGFAH78DA    0.0   
4                                         NaN  RPSNMLRKKHJGFCH48DA  82.17   
5                       親友、員工、共有人或其他特殊關係間之交易；  RPPNMLRKKHJGFBH18EA  21.02   
..                                        ...                  ...    ...   
833                         預售屋、或土地及建物分件登記案件；  RPPPMLQJKIIGFAH97DA  96.88   
834  111.05.25以1130萬元，向前手買受。預售屋、或土地及建物分件登記案件；  RPWPMLQJKIIGFAH68DA   49.0   
835                         預售屋、或土地及建物分件登記案件；  RPSPNLOJKIIGFAH18DA  70.09   
836                         預售屋、或土地及建物分件登記案件；  RPXSMLPJKIIGFAH98DA  60.46   
837                                       NaN  RPRNMLTJJHJGFEH58DA   55.1   

    附屬建物面積   陽台面積 電梯 移轉編號  
1     8.56  15.96  有  NaN  
2      0.0    0.0  無  NaN  
3      0.0    0.0  無  NaN  
4      0.0   8.01  有  NaN  
5      0.0   4.72  有  NaN  
..     ...    ... ..  ...  
833    0.0    0.0  有  NaN  
834    0.0   3.73  有  NaN  
835    0.0    5.2  有  NaN  
836    0.0   3.63  有  NaN  
837    0.0   3.78  有  235  

[837 rows x 33 columns]</code></pre>
</div>
</div>
</section>
<section id="分組-pandas資料框.groupby-1" class="slide level2">
<h2>分組 pandas資料框.groupby()</h2>
<ul>
<li><code>pandas資料框.groupby(by=分組依據)</code>設定分組依據</li>
<li>計算各<strong>鄉鎮市區</strong>（以鄉鎮市區作為分組依據）的<strong>交易筆數</strong>、<strong>總價元</strong></li>
<li><code>pandas資料序列.mean()</code>可知平均，<code>pandas資料框.size()</code>可知資料筆數</li>
</ul>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1"></a>house <span class="op">=</span> house.assign(總價元n<span class="op">=</span>pd.to_numeric(house[<span class="st">"總價元"</span>]))</span>
<span id="cb48-2"><a href="#cb48-2"></a>house.groupby(by<span class="op">=</span><span class="st">'鄉鎮市區'</span>)[<span class="st">'總價元n'</span>].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>鄉鎮市區
中壢區    1.639229e+07
八德區    2.073622e+07
大園區    1.276029e+07
大溪區    1.070414e+07
平鎮區    1.127837e+07
復興區    1.600000e+06
新屋區    1.041633e+07
桃園區    1.164521e+07
楊梅區    1.724378e+07
蘆竹區    1.293797e+07
觀音區    1.433645e+07
龍潭區    1.046854e+07
龜山區    2.304726e+07
Name: 總價元n, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="分組-pandas資料框.groupby-2" class="slide level2">
<h2>分組 pandas資料框.groupby()</h2>
<ul>
<li><code>pandas資料序列.mean()</code>可知平均，<code>pandas資料框.size()</code>可知資料筆數</li>
</ul>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1"></a>house.groupby(by<span class="op">=</span><span class="st">'鄉鎮市區'</span>).size()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>鄉鎮市區
中壢區    179
八德區     54
大園區     83
大溪區     18
平鎮區     54
復興區      1
新屋區     16
桃園區    183
楊梅區     41
蘆竹區    100
觀音區     24
龍潭區     26
龜山區     58
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="分組-pandas資料框.groupby-3" class="slide level2">
<h2>分組 pandas資料框.groupby()</h2>
<p>能不能一起處理？</p>
<ul>
<li><code>pandas資料框.groupby(by=分組依據)</code>設定分組依據</li>
<li>計算各<strong>鄉鎮市區</strong>（以鄉鎮市區作為分組依據）的<strong>交易筆數</strong>、<strong>總價元</strong></li>
<li><code>pandas資料框.groupby(by=分組依據)[欄位名稱].agg(["計算1","計算2"])</code></li>
</ul>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1"></a>house.groupby(by<span class="op">=</span><span class="st">'鄉鎮市區'</span>)[<span class="st">'總價元n'</span>].agg([<span class="st">"size"</span>,<span class="st">"mean"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">size</th>
<th data-quarto-table-cell-role="th">mean</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">鄉鎮市區</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">中壢區</td>
<td>179</td>
<td>1.639229e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">八德區</td>
<td>54</td>
<td>2.073622e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">大園區</td>
<td>83</td>
<td>1.276029e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">大溪區</td>
<td>18</td>
<td>1.070414e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">平鎮區</td>
<td>54</td>
<td>1.127837e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">復興區</td>
<td>1</td>
<td>1.600000e+06</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">新屋區</td>
<td>16</td>
<td>1.041633e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">桃園區</td>
<td>183</td>
<td>1.164521e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">楊梅區</td>
<td>41</td>
<td>1.724378e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">蘆竹區</td>
<td>100</td>
<td>1.293797e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">觀音區</td>
<td>24</td>
<td>1.433645e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">龍潭區</td>
<td>26</td>
<td>1.046854e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">龜山區</td>
<td>58</td>
<td>2.304726e+07</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="分組-pandas資料框.groupby-4" class="slide level2">
<h2>分組 pandas資料框.groupby()</h2>
<ul>
<li><code>pandas資料框.groupby(by=分組依據)[欄位名稱].agg(["計算1","計算2"])</code></li>
</ul>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1"></a>house.groupby(by<span class="op">=</span><span class="st">'鄉鎮市區'</span>)[<span class="st">'總價元n'</span>].agg([<span class="st">"size"</span>,<span class="st">"mean"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">size</th>
<th data-quarto-table-cell-role="th">mean</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">鄉鎮市區</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">中壢區</td>
<td>179</td>
<td>1.639229e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">八德區</td>
<td>54</td>
<td>2.073622e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">大園區</td>
<td>83</td>
<td>1.276029e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">大溪區</td>
<td>18</td>
<td>1.070414e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">平鎮區</td>
<td>54</td>
<td>1.127837e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">復興區</td>
<td>1</td>
<td>1.600000e+06</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">新屋區</td>
<td>16</td>
<td>1.041633e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">桃園區</td>
<td>183</td>
<td>1.164521e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">楊梅區</td>
<td>41</td>
<td>1.724378e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">蘆竹區</td>
<td>100</td>
<td>1.293797e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">觀音區</td>
<td>24</td>
<td>1.433645e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">龍潭區</td>
<td>26</td>
<td>1.046854e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">龜山區</td>
<td>58</td>
<td>2.304726e+07</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="分組-pandas資料框.groupby-5" class="slide level2">
<h2>分組 pandas資料框.groupby()</h2>
<ul>
<li>可設定<strong>多個</strong>分組依據</li>
<li>計算各<strong>鄉鎮市區</strong>各<strong>交易標的</strong>（以鄉鎮市區和交易標的作為分組依據）的<strong>交易筆數</strong>以及<strong>平均總價元</strong></li>
<li><code>pandas資料框.groupby(by=[分組依據1,分組依據2])[欄位名稱].agg(["計算1","計算2"])</code></li>
</ul>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1"></a>house.groupby(by<span class="op">=</span>[<span class="st">'鄉鎮市區'</span>,<span class="st">'交易標的'</span>])[<span class="st">'總價元n'</span>].agg([<span class="st">"size"</span>,<span class="st">"mean"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">size</th>
<th data-quarto-table-cell-role="th">mean</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">鄉鎮市區</th>
<th data-quarto-table-cell-role="th">交易標的</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="4" data-quarto-table-cell-role="th" data-valign="top">中壢區</td>
<td data-quarto-table-cell-role="th">土地</td>
<td>32</td>
<td>2.741282e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">房地(土地+建物)</td>
<td>41</td>
<td>1.124098e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">房地(土地+建物)+車位</td>
<td>105</td>
<td>1.519171e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">車位</td>
<td>1</td>
<td>1.000000e+06</td>
</tr>
<tr class="odd">
<td rowspan="3" data-quarto-table-cell-role="th" data-valign="top">八德區</td>
<td data-quarto-table-cell-role="th">土地</td>
<td>9</td>
<td>3.130624e+06</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">房地(土地+建物)</td>
<td>19</td>
<td>9.285268e+06</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">房地(土地+建物)+車位</td>
<td>26</td>
<td>3.519846e+07</td>
</tr>
<tr class="even">
<td rowspan="3" data-quarto-table-cell-role="th" data-valign="top">大園區</td>
<td data-quarto-table-cell-role="th">土地</td>
<td>8</td>
<td>9.812756e+06</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">房地(土地+建物)</td>
<td>21</td>
<td>1.278676e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">房地(土地+建物)+車位</td>
<td>54</td>
<td>1.318667e+07</td>
</tr>
<tr class="odd">
<td rowspan="3" data-quarto-table-cell-role="th" data-valign="top">大溪區</td>
<td data-quarto-table-cell-role="th">土地</td>
<td>6</td>
<td>6.370742e+06</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">房地(土地+建物)</td>
<td>9</td>
<td>1.407222e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">房地(土地+建物)+車位</td>
<td>3</td>
<td>9.266667e+06</td>
</tr>
<tr class="even">
<td rowspan="4" data-quarto-table-cell-role="th" data-valign="top">平鎮區</td>
<td data-quarto-table-cell-role="th">土地</td>
<td>14</td>
<td>1.392430e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">房地(土地+建物)</td>
<td>22</td>
<td>9.367127e+06</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">房地(土地+建物)+車位</td>
<td>17</td>
<td>1.211853e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">車位</td>
<td>1</td>
<td>2.000000e+06</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">復興區</td>
<td data-quarto-table-cell-role="th">土地</td>
<td>1</td>
<td>1.600000e+06</td>
</tr>
<tr class="odd">
<td rowspan="3" data-quarto-table-cell-role="th" data-valign="top">新屋區</td>
<td data-quarto-table-cell-role="th">土地</td>
<td>5</td>
<td>7.514244e+06</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">房地(土地+建物)</td>
<td>8</td>
<td>1.244500e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">房地(土地+建物)+車位</td>
<td>3</td>
<td>9.843333e+06</td>
</tr>
<tr class="even">
<td rowspan="5" data-quarto-table-cell-role="th" data-valign="top">桃園區</td>
<td data-quarto-table-cell-role="th">土地</td>
<td>26</td>
<td>2.641880e+06</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">建物</td>
<td>14</td>
<td>1.204500e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">房地(土地+建物)</td>
<td>38</td>
<td>8.108277e+06</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">房地(土地+建物)+車位</td>
<td>103</td>
<td>1.536961e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">車位</td>
<td>2</td>
<td>1.285000e+06</td>
</tr>
<tr class="odd">
<td rowspan="3" data-quarto-table-cell-role="th" data-valign="top">楊梅區</td>
<td data-quarto-table-cell-role="th">土地</td>
<td>8</td>
<td>2.409301e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">房地(土地+建物)</td>
<td>16</td>
<td>2.235806e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">房地(土地+建物)+車位</td>
<td>17</td>
<td>9.207176e+06</td>
</tr>
<tr class="even">
<td rowspan="5" data-quarto-table-cell-role="th" data-valign="top">蘆竹區</td>
<td data-quarto-table-cell-role="th">土地</td>
<td>14</td>
<td>9.024424e+06</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">建物</td>
<td>1</td>
<td>1.451000e+05</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">房地(土地+建物)</td>
<td>14</td>
<td>1.300571e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">房地(土地+建物)+車位</td>
<td>69</td>
<td>1.422797e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">車位</td>
<td>2</td>
<td>1.750000e+06</td>
</tr>
<tr class="odd">
<td rowspan="3" data-quarto-table-cell-role="th" data-valign="top">觀音區</td>
<td data-quarto-table-cell-role="th">土地</td>
<td>6</td>
<td>3.276246e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">房地(土地+建物)</td>
<td>14</td>
<td>7.802857e+06</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">房地(土地+建物)+車位</td>
<td>4</td>
<td>9.565000e+06</td>
</tr>
<tr class="even">
<td rowspan="3" data-quarto-table-cell-role="th" data-valign="top">龍潭區</td>
<td data-quarto-table-cell-role="th">土地</td>
<td>9</td>
<td>8.322461e+06</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">房地(土地+建物)</td>
<td>10</td>
<td>1.348500e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">房地(土地+建物)+車位</td>
<td>7</td>
<td>8.918571e+06</td>
</tr>
<tr class="odd">
<td rowspan="4" data-quarto-table-cell-role="th" data-valign="top">龜山區</td>
<td data-quarto-table-cell-role="th">土地</td>
<td>11</td>
<td>6.144739e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">房地(土地+建物)</td>
<td>8</td>
<td>1.094125e+07</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">房地(土地+建物)+車位</td>
<td>37</td>
<td>1.541730e+07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">車位</td>
<td>2</td>
<td>1.425000e+06</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="分組-pandas資料框.groupby-6" class="slide level2">
<h2>分組 pandas資料框.groupby()</h2>
<ul>
<li><code>pandas資料框.groupby(by=[分組依據1,分組依據2])[欄位名稱].agg(["計算1","計算2"])</code></li>
</ul>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1"></a><span class="bu">print</span>(house.groupby(by<span class="op">=</span>[<span class="st">'鄉鎮市區'</span>,<span class="st">'交易標的'</span>])[<span class="st">'總價元n'</span>].agg([<span class="st">"size"</span>,<span class="st">"mean"</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   size          mean
鄉鎮市區 交易標的                            
中壢區  土地              32  2.741282e+07
     房地(土地+建物)       41  1.124098e+07
     房地(土地+建物)+車位   105  1.519171e+07
     車位               1  1.000000e+06
八德區  土地               9  3.130624e+06
     房地(土地+建物)       19  9.285268e+06
     房地(土地+建物)+車位    26  3.519846e+07
大園區  土地               8  9.812756e+06
     房地(土地+建物)       21  1.278676e+07
     房地(土地+建物)+車位    54  1.318667e+07
大溪區  土地               6  6.370742e+06
     房地(土地+建物)        9  1.407222e+07
     房地(土地+建物)+車位     3  9.266667e+06
平鎮區  土地              14  1.392430e+07
     房地(土地+建物)       22  9.367127e+06
     房地(土地+建物)+車位    17  1.211853e+07
     車位               1  2.000000e+06
復興區  土地               1  1.600000e+06
新屋區  土地               5  7.514244e+06
     房地(土地+建物)        8  1.244500e+07
     房地(土地+建物)+車位     3  9.843333e+06
桃園區  土地              26  2.641880e+06
     建物              14  1.204500e+07
     房地(土地+建物)       38  8.108277e+06
     房地(土地+建物)+車位   103  1.536961e+07
     車位               2  1.285000e+06
楊梅區  土地               8  2.409301e+07
     房地(土地+建物)       16  2.235806e+07
     房地(土地+建物)+車位    17  9.207176e+06
蘆竹區  土地              14  9.024424e+06
     建物               1  1.451000e+05
     房地(土地+建物)       14  1.300571e+07
     房地(土地+建物)+車位    69  1.422797e+07
     車位               2  1.750000e+06
觀音區  土地               6  3.276246e+07
     房地(土地+建物)       14  7.802857e+06
     房地(土地+建物)+車位     4  9.565000e+06
龍潭區  土地               9  8.322461e+06
     房地(土地+建物)       10  1.348500e+07
     房地(土地+建物)+車位     7  8.918571e+06
龜山區  土地              11  6.144739e+07
     房地(土地+建物)        8  1.094125e+07
     房地(土地+建物)+車位    37  1.541730e+07
     車位               2  1.425000e+06</code></pre>
</div>
</div>
</section>
<section id="hands-on-探索式資料分析-綜合練習" class="slide level2">
<h2>Hands-on 探索式資料分析 綜合練習</h2>
<p>以<a href="https://plvr.land.moi.gov.tw/DownloadOpenData">房屋實價登錄資料</a>為例，首先先載入<a href="https://raw.githubusercontent.com/CGUIM-BigDataAnalysis/BigDataCGUIM/master/EMBA_BigData/Data/h_lvr_land_a.csv">桃園市不動產買賣</a>資料</p>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb57-2"><a href="#cb57-2"></a>house <span class="op">=</span> pd.read_csv(<span class="st">"https://raw.githubusercontent.com/CGUIM-BigDataAnalysis/BigDataCGUIM/master/EMBA_BigData/Data/h_lvr_land_a.csv"</span>)</span>
<span id="cb57-3"><a href="#cb57-3"></a>house <span class="op">=</span> house[<span class="dv">1</span>:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="hands-on-探索式資料分析-綜合練習-1" class="slide level2">
<h2>Hands-on 探索式資料分析 綜合練習</h2>
<ul>
<li>試著用“子集”方法，篩選出所有<strong>交易標的</strong>為<strong>房地(土地+建物)+車位</strong>且<strong>建物移轉總面積平方公尺</strong>大於<strong>100</strong>的交易資料</li>
<li>依<strong>鄉鎮市區</strong>和<strong>建物型態</strong>分組，計算交易的平均<strong>總價元</strong>，平均<strong>單價元平方公尺</strong></li>
</ul>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1"></a>selected_house <span class="op">=</span> house[house[<span class="st">"交易標的"</span>]<span class="op">==</span><span class="st">"房地(土地+建物)+車位"</span>]</span>
<span id="cb58-2"><a href="#cb58-2"></a>selected_house <span class="op">=</span> selected_house.assign(area<span class="op">=</span>pd.to_numeric(selected_house[<span class="st">"建物移轉總面積平方公尺"</span>]))</span>
<span id="cb58-3"><a href="#cb58-3"></a>selected_house[selected_house[<span class="st">"area"</span>]<span class="op">&gt;</span><span class="dv">100</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">鄉鎮市區</th>
<th data-quarto-table-cell-role="th">交易標的</th>
<th data-quarto-table-cell-role="th">土地位置建物門牌</th>
<th data-quarto-table-cell-role="th">土地移轉總面積平方公尺</th>
<th data-quarto-table-cell-role="th">都市土地使用分區</th>
<th data-quarto-table-cell-role="th">非都市土地使用分區</th>
<th data-quarto-table-cell-role="th">非都市土地使用編定</th>
<th data-quarto-table-cell-role="th">交易年月日</th>
<th data-quarto-table-cell-role="th">交易筆棟數</th>
<th data-quarto-table-cell-role="th">移轉層次</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">車位移轉總面積平方公尺</th>
<th data-quarto-table-cell-role="th">車位總價元</th>
<th data-quarto-table-cell-role="th">備註</th>
<th data-quarto-table-cell-role="th">編號</th>
<th data-quarto-table-cell-role="th">主建物面積</th>
<th data-quarto-table-cell-role="th">附屬建物面積</th>
<th data-quarto-table-cell-role="th">陽台面積</th>
<th data-quarto-table-cell-role="th">電梯</th>
<th data-quarto-table-cell-role="th">移轉編號</th>
<th data-quarto-table-cell-role="th">area</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>桃園區</td>
<td>房地(土地+建物)+車位</td>
<td>桃園市桃園區大業路一段１２１巷１２號九樓</td>
<td>35.44</td>
<td>住</td>
<td>NaN</td>
<td>NaN</td>
<td>1130203</td>
<td>土地1建物1車位2</td>
<td>九層</td>
<td>...</td>
<td>0.0</td>
<td>0</td>
<td>贈熱水器.瓦斯爐.沙發組.冷氣X5.廚具.流理臺.抽油煙機</td>
<td>RPPNMLOKKHJGFAH67DA</td>
<td>97.45</td>
<td>8.56</td>
<td>15.96</td>
<td>有</td>
<td>NaN</td>
<td>218.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>龍潭區</td>
<td>房地(土地+建物)+車位</td>
<td>桃園市龍潭區永昌路５１巷２５號三樓</td>
<td>39.8</td>
<td>住</td>
<td>NaN</td>
<td>NaN</td>
<td>1130202</td>
<td>土地1建物1車位1</td>
<td>三層</td>
<td>...</td>
<td>15.99</td>
<td>1600000</td>
<td>NaN</td>
<td>RPSNMLRKKHJGFCH48DA</td>
<td>82.17</td>
<td>0.0</td>
<td>8.01</td>
<td>有</td>
<td>NaN</td>
<td>144.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>桃園區</td>
<td>房地(土地+建物)+車位</td>
<td>桃園市桃園區民族路２５６號二十三樓</td>
<td>29.25</td>
<td>商</td>
<td>NaN</td>
<td>NaN</td>
<td>1130112</td>
<td>土地1建物1車位2</td>
<td>二十三層</td>
<td>...</td>
<td>0.0</td>
<td>0</td>
<td>親友、員工、共有人或其他特殊關係間之交易；毛胚屋；</td>
<td>RPSNMLPLJHJGFAH08DA</td>
<td>162.38</td>
<td>9.17</td>
<td>24.45</td>
<td>有</td>
<td>NaN</td>
<td>328.38</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>中壢區</td>
<td>房地(土地+建物)+車位</td>
<td>桃園市中壢區興安一街２８號六樓之２</td>
<td>27.68</td>
<td>住</td>
<td>NaN</td>
<td>NaN</td>
<td>1130101</td>
<td>土地1建物1車位1</td>
<td>六層</td>
<td>...</td>
<td>32.57</td>
<td>0</td>
<td>陽台外推；</td>
<td>RPORMLLJKHJGFBH67DA</td>
<td>92.26</td>
<td>1.93</td>
<td>13.15</td>
<td>有</td>
<td>004</td>
<td>187.46</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>楊梅區</td>
<td>房地(土地+建物)+車位</td>
<td>桃園市楊梅區金德路３０號十二樓</td>
<td>20.88</td>
<td>住</td>
<td>NaN</td>
<td>NaN</td>
<td>1130114</td>
<td>土地1建物1車位1</td>
<td>十二層</td>
<td>...</td>
<td>41.85</td>
<td>0</td>
<td>NaN</td>
<td>RPTNMLPJKHJGFDH38DA</td>
<td>72.48</td>
<td>4.38</td>
<td>7.58</td>
<td>有</td>
<td>007</td>
<td>163.97</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">833</td>
<td>桃園區</td>
<td>房地(土地+建物)+車位</td>
<td>桃園市桃園區民光東路３１０巷１號</td>
<td>24.38</td>
<td>住</td>
<td>NaN</td>
<td>NaN</td>
<td>1090725</td>
<td>土地1建物1車位2</td>
<td>一層，見其他登記事項</td>
<td>...</td>
<td>66.3</td>
<td>3350000</td>
<td>預售屋、或土地及建物分件登記案件；</td>
<td>RPPPMLQJKIIGFAH97DA</td>
<td>96.88</td>
<td>0.0</td>
<td>0.0</td>
<td>有</td>
<td>NaN</td>
<td>211.06</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">834</td>
<td>桃園區</td>
<td>房地(土地+建物)+車位</td>
<td>桃園市桃園區朝陽街５０２號三樓</td>
<td>13.28</td>
<td>住</td>
<td>NaN</td>
<td>NaN</td>
<td>1090725</td>
<td>土地1建物1車位1</td>
<td>三層</td>
<td>...</td>
<td>33.15</td>
<td>1550000</td>
<td>111.05.25以1130萬元，向前手買受。預售屋、或土地及建物分件登記案件；</td>
<td>RPWPMLQJKIIGFAH68DA</td>
<td>49.0</td>
<td>0.0</td>
<td>3.73</td>
<td>有</td>
<td>NaN</td>
<td>111.83</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">835</td>
<td>桃園區</td>
<td>房地(土地+建物)+車位</td>
<td>桃園市桃園區朝陽街５２６號十二樓</td>
<td>18.96</td>
<td>住</td>
<td>NaN</td>
<td>NaN</td>
<td>1090727</td>
<td>土地1建物1車位1</td>
<td>十二層</td>
<td>...</td>
<td>33.15</td>
<td>1650000</td>
<td>預售屋、或土地及建物分件登記案件；</td>
<td>RPSPNLOJKIIGFAH18DA</td>
<td>70.09</td>
<td>0.0</td>
<td>5.2</td>
<td>有</td>
<td>NaN</td>
<td>145.36</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">836</td>
<td>桃園區</td>
<td>房地(土地+建物)+車位</td>
<td>桃園市桃園區朝陽街５１８號五樓</td>
<td>16.09</td>
<td>住</td>
<td>NaN</td>
<td>NaN</td>
<td>1090726</td>
<td>土地1建物1車位1</td>
<td>五層</td>
<td>...</td>
<td>33.15</td>
<td>1450000</td>
<td>預售屋、或土地及建物分件登記案件；</td>
<td>RPXSMLPJKIIGFAH98DA</td>
<td>60.46</td>
<td>0.0</td>
<td>3.63</td>
<td>有</td>
<td>NaN</td>
<td>128.92</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">837</td>
<td>大園區</td>
<td>房地(土地+建物)+車位</td>
<td>桃園市大園區文興街７號七樓之２</td>
<td>28.2</td>
<td>住</td>
<td>NaN</td>
<td>NaN</td>
<td>1000107</td>
<td>土地1建物1車位1</td>
<td>七層</td>
<td>...</td>
<td>0.0</td>
<td>0</td>
<td>NaN</td>
<td>RPRNMLTJJHJGFEH58DA</td>
<td>55.1</td>
<td>0.0</td>
<td>3.78</td>
<td>有</td>
<td>235</td>
<td>125.91</td>
</tr>
</tbody>
</table>

<p>429 rows × 34 columns</p>
</div>
</div>
</div>
<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="5_DataEDA_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="5_DataEDA_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="5_DataEDA_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="5_DataEDA_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="5_DataEDA_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="5_DataEDA_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="5_DataEDA_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="5_DataEDA_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="5_DataEDA_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="5_DataEDA_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>