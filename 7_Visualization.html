<!DOCTYPE html>
<html lang="en"><head>
<script src="7_Visualization_files/libs/clipboard/clipboard.min.js"></script>
<script src="7_Visualization_files/libs/quarto-html/tabby.min.js"></script>
<script src="7_Visualization_files/libs/quarto-html/popper.min.js"></script>
<script src="7_Visualization_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="7_Visualization_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="7_Visualization_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="7_Visualization_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="7_Visualization_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.57">

  <meta name="author" content="Yi-Ju Tseng">
  <title>7. Visualization</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="7_Visualization_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="7_Visualization_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="7_Visualization_files/libs/revealjs/dist/theme/quarto.css">
  <link href="7_Visualization_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="7_Visualization_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="7_Visualization_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="7_Visualization_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">7. Visualization</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Yi-Ju Tseng 
</div>
</div>
</div>

</section>
<section id="visualization" class="title-slide slide level1 center">
<h1>Visualization</h1>
<ul>
<li>Visualization with Matplotlib</li>
<li>Simple Line Plots</li>
<li>Simple Scatter Plots</li>
<li>Visualizing Errors</li>
<li>Density and Contour Plots</li>
<li>Histograms, Binnings, and Density</li>
<li>Customizing Plot Legends and Colorbars</li>
<li>Multiple Subplots</li>
</ul>
</section>

<section>
<section id="visualization-with-matplotlib" class="title-slide slide level1 center">
<h1>Visualization with Matplotlib</h1>

</section>
<section id="what-is-matplotlib" class="slide level2">
<h2>What is Matplotlib?</h2>
<ul>
<li>Matplotlib is a multi-platform <strong>data visualization library</strong> for Python</li>
<li>Created by John Hunter in 2002, with version 0.1 released in 2003.</li>
<li>Large user and developer base, making it a powerful and ubiquitous tool for scientific visualization.</li>
<li>Despite newer visualization tools, Matplotlib remains a vital part of the data science stack.</li>
</ul>
</section>
<section id="importing-matplotlib" class="slide level2">
<h2>Importing Matplotlib</h2>
<div id="c8558027" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href=""></a><span class="co"># !pip3 install matplotlib</span></span>
<span id="cb1-2"><a href=""></a><span class="im">import</span> matplotlib <span class="im">as</span> mpl</span>
<span id="cb1-3"><a href=""></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>plt</code> interface is most commonly used</p>
<p>Load other important library</p>
<div id="27e99e9b" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href=""></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-2"><a href=""></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="setting-plot-styles" class="slide level2">
<h2>Setting Plot Styles</h2>
<p>Use <code>plt.style.use('style')</code> to set the visual style of your plots</p>
<div id="32654f15" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href=""></a>plt.style.use(<span class="st">'seaborn-v0_8-whitegrid'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a href="https://matplotlib.org/stable/gallery/style_sheets/style_sheets_reference.html">Stylesheets</a></p>
</section>
<section id="figure" class="slide level2">
<h2>Figure</h2>
<p>The <strong>figure</strong> (an instance of the class plt.Figure) = container that contains all the objects representing axes, graphics, text, and labels.</p>
<div id="730b39d6" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href=""></a>fig <span class="op">=</span> plt.figure()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 960x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="how-to-view-your-plots---13" class="slide level2">
<h2>How to View Your Plots - (1/3)</h2>
<ul>
<li><strong>From a Python script:</strong><br>
Use <code>plt.show()</code> at the end to display figures.</li>
<li><code>plt.plot(x,y)</code></li>
</ul>
<div id="aa361b9f" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href=""></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">100</span>)</span>
<span id="cb6-2"><a href=""></a>fig <span class="op">=</span> plt.figure()</span>
<span id="cb6-3"><a href=""></a>plt.plot(x, np.sin(x))</span>
<span id="cb6-4"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-6-output-1.png" width="802" height="405"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="how-to-view-your-plots---13-1" class="slide level2">
<h2>How to View Your Plots - (1/3)</h2>
<div id="55b1d4c7" class="cell" data-execution_count="6">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-7-output-1.png" width="802" height="405"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="how-to-view-your-plots---23" class="slide level2">
<h2>How to View Your Plots - (2/3)</h2>
<ul>
<li><strong>From an IPython shell:</strong><br>
Use <code>%matplotlib</code> magic command to enable interactive plotting.<br>
<code>plt.show()</code> is not required.</li>
</ul>
</section>
<section id="how-to-view-your-plots---33" class="slide level2">
<h2>How to View Your Plots - (3/3)</h2>
<ul>
<li><strong>From a Jupyter (IPython) notebook:</strong><br>
Use <code>%matplotlib inline</code> for static images or <code>%matplotlib notebook</code> for interactive plots.</li>
</ul>
<div id="29d117d6" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href=""></a><span class="co"># %matplotlib inline</span></span>
<span id="cb7-2"><a href=""></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">100</span>)</span>
<span id="cb7-3"><a href=""></a>plt.plot(x, np.sin(x), <span class="st">'-'</span>)</span>
<span id="cb7-4"><a href=""></a>plt.plot(x, np.cos(x), <span class="st">'--'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-8-output-1.png" width="802" height="405"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="saving-figures" class="slide level2">
<h2>Saving Figures</h2>
<p>Save figures using <code>fig.savefig()</code>:</p>
<div id="3008cd62" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href=""></a>fig.savefig(<span class="st">'my_figure.png'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>File format is inferred from the file extension.</li>
<li>Supported formats include: PNG, JPG, PDF, TIFF, and more.</li>
</ul>
<div id="e1b60b4e" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href=""></a>fig.canvas.get_supported_filetypes()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="584">
<pre><code>{'eps': 'Encapsulated Postscript',
 'jpg': 'Joint Photographic Experts Group',
 'jpeg': 'Joint Photographic Experts Group',
 'pdf': 'Portable Document Format',
 'pgf': 'PGF code for LaTeX',
 'png': 'Portable Network Graphics',
 'ps': 'Postscript',
 'raw': 'Raw RGBA bitmap',
 'rgba': 'Raw RGBA bitmap',
 'svg': 'Scalable Vector Graphics',
 'svgz': 'Scalable Vector Graphics',
 'tif': 'Tagged Image File Format',
 'tiff': 'Tagged Image File Format',
 'webp': 'WebP Image Format'}</code></pre>
</div>
</div>
</section></section>
<section>
<section id="simple-line-plots" class="title-slide slide level1 center">
<h1>Simple Line Plots</h1>

</section>
<section id="plotting-a-simple-function" class="slide level2">
<h2>Plotting a Simple Function</h2>
<p>Example: Plotting a sine curve with <code>plt.plot(x,y)</code></p>
<div id="93226889" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href=""></a>plt.plot(x, np.sin(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-11-output-1.png" width="802" height="405"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="multiple-lines-in-one-plot" class="slide level2">
<h2>Multiple Lines in One Plot</h2>
<p>Call <code>plt.plot</code> multiple times to overlay lines:</p>
<div id="554a611a" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href=""></a>plt.plot(x, np.sin(x))</span>
<span id="cb12-2"><a href=""></a>plt.plot(x, np.cos(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-12-output-1.png" width="802" height="405"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="customizing-line-color" class="slide level2">
<h2>Customizing Line Color</h2>
<p>with <code>color</code> parameter</p>
<div id="022997bc" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href=""></a>plt.plot(x, np.sin(x <span class="op">-</span> <span class="dv">0</span>), color<span class="op">=</span><span class="st">'blue'</span>)        <span class="co"># by name</span></span>
<span id="cb13-2"><a href=""></a>plt.plot(x, np.sin(x <span class="op">-</span> <span class="dv">1</span>), color<span class="op">=</span><span class="st">'g'</span>)           <span class="co"># short code (r, g, b, c, m, y, k)</span></span>
<span id="cb13-3"><a href=""></a>plt.plot(x, np.sin(x <span class="op">-</span> <span class="dv">2</span>), color<span class="op">=</span><span class="st">'0.75'</span>)        <span class="co"># grayscale</span></span>
<span id="cb13-4"><a href=""></a>plt.plot(x, np.sin(x <span class="op">-</span> <span class="dv">3</span>), color<span class="op">=</span><span class="st">'#FFDD44'</span>)     <span class="co"># hex code</span></span>
<span id="cb13-5"><a href=""></a>plt.plot(x, np.sin(x <span class="op">-</span> <span class="dv">4</span>), color<span class="op">=</span>(<span class="fl">1.0</span>,<span class="fl">0.2</span>,<span class="fl">0.3</span>)) <span class="co"># RGB tuple</span></span>
<span id="cb13-6"><a href=""></a>plt.plot(x, np.sin(x <span class="op">-</span> <span class="dv">5</span>), color<span class="op">=</span><span class="st">'chartreuse'</span>)  <span class="co"># HTML color name</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-13-output-1.png" width="802" height="405"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="customizing-line-style" class="slide level2">
<h2>Customizing Line Style</h2>
<p>with <code>linestyle</code> parameter</p>
<div id="f2c75403" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href=""></a>plt.plot(x, x <span class="op">+</span> <span class="dv">0</span>, linestyle<span class="op">=</span><span class="st">'solid'</span>)</span>
<span id="cb14-2"><a href=""></a>plt.plot(x, x <span class="op">+</span> <span class="dv">1</span>, linestyle<span class="op">=</span><span class="st">'dashed'</span>)</span>
<span id="cb14-3"><a href=""></a>plt.plot(x, x <span class="op">+</span> <span class="dv">2</span>, linestyle<span class="op">=</span><span class="st">'dashdot'</span>)</span>
<span id="cb14-4"><a href=""></a>plt.plot(x, x <span class="op">+</span> <span class="dv">3</span>, linestyle<span class="op">=</span><span class="st">'dotted'</span>)</span>
<span id="cb14-5"><a href=""></a><span class="co"># Short codes:</span></span>
<span id="cb14-6"><a href=""></a>plt.plot(x, x <span class="op">+</span> <span class="dv">4</span>, linestyle<span class="op">=</span><span class="st">'-'</span>)   <span class="co"># solid</span></span>
<span id="cb14-7"><a href=""></a>plt.plot(x, x <span class="op">+</span> <span class="dv">5</span>, linestyle<span class="op">=</span><span class="st">'--'</span>)  <span class="co"># dashed</span></span>
<span id="cb14-8"><a href=""></a>plt.plot(x, x <span class="op">+</span> <span class="dv">6</span>, linestyle<span class="op">=</span><span class="st">'-.'</span>)  <span class="co"># dashdot</span></span>
<span id="cb14-9"><a href=""></a>plt.plot(x, x <span class="op">+</span> <span class="dv">7</span>, linestyle<span class="op">=</span><span class="st">':'</span>)   <span class="co"># dotted</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-14-output-1.png" width="794" height="405"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="customizing-line-color-and-style" class="slide level2">
<h2>Customizing Line Color and Style</h2>
<div id="73ed0c36" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href=""></a>plt.plot(x, x <span class="op">+</span> <span class="dv">0</span>, <span class="st">'-g'</span>)  <span class="co"># solid green</span></span>
<span id="cb15-2"><a href=""></a>plt.plot(x, x <span class="op">+</span> <span class="dv">1</span>, <span class="st">'--c'</span>) <span class="co"># dashed cyan</span></span>
<span id="cb15-3"><a href=""></a>plt.plot(x, x <span class="op">+</span> <span class="dv">2</span>, <span class="st">'-.k'</span>) <span class="co"># dashdot black</span></span>
<span id="cb15-4"><a href=""></a>plt.plot(x, x <span class="op">+</span> <span class="dv">3</span>, <span class="st">':r'</span>)  <span class="co"># dotted red</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-15-output-1.png" width="783" height="405"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="adjusting-axes-limits" class="slide level2">
<h2>Adjusting Axes Limits</h2>
<p><code>plt.axis([xmin, xmax, ymin, ymax])</code></p>
<div id="a7e271a4" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href=""></a>plt.axis([<span class="op">-</span><span class="dv">1</span>, <span class="dv">11</span>, <span class="op">-</span><span class="fl">1.5</span>, <span class="fl">1.5</span>]) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-16-output-1.png" width="794" height="410"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="adding-titles-labels-and-legends" class="slide level2">
<h2>Adding Titles, Labels, and Legends</h2>
<p><code>plt.title()</code>, <code>plt.xlabel()</code>, <code>plt.ylabel()</code></p>
<div id="c25141b8" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href=""></a>plt.plot(x, np.sin(x))</span>
<span id="cb17-2"><a href=""></a>plt.title(<span class="st">"A Sine Curve"</span>)</span>
<span id="cb17-3"><a href=""></a>plt.xlabel(<span class="st">"x"</span>)</span>
<span id="cb17-4"><a href=""></a>plt.ylabel(<span class="st">"sin(x)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="591">
<pre><code>Text(0, 0.5, 'sin(x)')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-17-output-2.png" width="819" height="442"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="adding-titles-labels-and-legends-1" class="slide level2">
<h2>Adding Titles, Labels, and Legends</h2>
<p>Add a legend for multiple lines with <code>label</code> parameter and <code>plt.legend()</code></p>
<div id="36f1e905" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href=""></a>plt.plot(x, np.sin(x), <span class="st">'-g'</span>, label<span class="op">=</span><span class="st">'sin(x)'</span>)</span>
<span id="cb19-2"><a href=""></a>plt.plot(x, np.cos(x), <span class="st">':b'</span>, label<span class="op">=</span><span class="st">'cos(x)'</span>)</span>
<span id="cb19-3"><a href=""></a>plt.axis(<span class="st">'equal'</span>)</span>
<span id="cb19-4"><a href=""></a>plt.legend()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-18-output-1.png" width="783" height="405"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="hands-on---line-plot" class="slide level2">
<h2>Hands-on - Line Plot</h2>
<p>Setting</p>
<div id="7a34a5b7" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href=""></a><span class="im">import</span> matplotlib</span>
<span id="cb20-2"><a href=""></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="6828aad1" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href=""></a><span class="co"># colab顯示繁體中文 問題：matplotlib繪圖，會發生中文無法顯示的問題</span></span>
<span id="cb21-2"><a href=""></a><span class="co"># 先下載台北黑體字型</span></span>
<span id="cb21-3"><a href=""></a><span class="op">!</span>gdown <span class="st">'1eGAsTN1HBpJAkeVM57_C7ccp7hbgSz3_'</span> <span class="op">--</span>output TaipeiSansTCBeta<span class="op">-</span>Regular.ttf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="89c3377a" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href=""></a><span class="co"># 新增字體</span></span>
<span id="cb22-2"><a href=""></a>matplotlib.font_manager.fontManager.addfont(<span class="st">'TaipeiSansTCBeta-Regular.ttf'</span>)</span>
<span id="cb22-3"><a href=""></a><span class="co"># 將 font-family 設為 Taipei Sans TC Beta</span></span>
<span id="cb22-4"><a href=""></a><span class="co"># 設定完後，之後的圖表都可以顯示中文了</span></span>
<span id="cb22-5"><a href=""></a>matplotlib.rc(<span class="st">'font'</span>, family<span class="op">=</span><span class="st">'Taipei Sans TC Beta'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="hands-on---line-plot-1" class="slide level2">
<h2>Hands-on - Line Plot</h2>
<p>Data</p>
<div id="6e0e2f47" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href=""></a><span class="co"># 空氣品質監測日平均值(一般污染物)</span></span>
<span id="cb23-2"><a href=""></a><span class="co"># https://data.moenv.gov.tw/dataset/detail/AQX_P_19</span></span>
<span id="cb23-3"><a href=""></a><span class="co"># https://drive.google.com/drive/folders/1OrMlB4hP8nnW_0bYwoHRO6DRXWNk1qvy?usp=sharing</span></span>
<span id="cb23-4"><a href=""></a><span class="op">!</span>gdown <span class="st">'1P3qrYrynZhXDC13dVo5KhDXmld5OGZz1'</span> <span class="op">--</span>output <span class="fl">202310.</span><span class="er">csv</span></span>
<span id="cb23-5"><a href=""></a><span class="op">!</span>gdown <span class="st">'1P1Kv1ZmPOYyi83DJKUIPoksM31vJJiS5'</span> <span class="op">--</span>output <span class="fl">202311.</span><span class="er">csv</span></span>
<span id="cb23-6"><a href=""></a><span class="op">!</span>gdown <span class="st">'1P0mojOXgvVbXImnRTPQemm7dCkLDLKAC'</span> <span class="op">--</span>output <span class="fl">202312.</span><span class="er">csv</span></span>
<span id="cb23-7"><a href=""></a><span class="op">!</span>gdown <span class="st">'1OwAf366l-iItXV4foJemw5QdMuD3JgMc'</span> <span class="op">--</span>output <span class="fl">202401.</span><span class="er">csv</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="hands-on---line-plot-2" class="slide level2">
<h2>Hands-on - Line Plot</h2>
<p>Data</p>
<div id="0aed2c3f" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href=""></a>df202401 <span class="op">=</span> pd.read_csv(<span class="st">'202401.csv'</span>) </span>
<span id="cb24-2"><a href=""></a>df202312 <span class="op">=</span> pd.read_csv(<span class="st">'202312.csv'</span>) </span>
<span id="cb24-3"><a href=""></a>df202311 <span class="op">=</span> pd.read_csv(<span class="st">'202311.csv'</span>) </span>
<span id="cb24-4"><a href=""></a>df202310 <span class="op">=</span> pd.read_csv(<span class="st">'202310.csv'</span>) </span>
<span id="cb24-5"><a href=""></a>df_air <span class="op">=</span> pd.concat([df202401,df202312,df202311,df202310],axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb24-6"><a href=""></a><span class="bu">print</span>(df_air.head())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   "siteid" "sitename"  "itemid" "itemname" "itemengname" "itemunit"  \
0        80         關山         4       懸浮微粒          PM10      μg/m3   
1        80         關山         5       氮氧化物           NOx        ppb   
2        80         關山         6       一氧化氮            NO        ppb   
3        80         關山         7       二氧化氮           NO2        ppb   
4        80         關山        10         風速    WIND_SPEED      m/sec   

  "monitordate" "concentration"  
0    2024-01-01              33  
1    2024-01-01             3.8  
2    2024-01-01             0.5  
3    2024-01-01             3.2  
4    2024-01-01             2.2  </code></pre>
</div>
</div>
</section>
<section id="hands-on---line-plot-3" class="slide level2">
<h2>Hands-on - Line Plot</h2>
<p>Data Clean</p>
<div id="bce712dd" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href=""></a>new_headers <span class="op">=</span> []</span>
<span id="cb26-2"><a href=""></a><span class="cf">for</span> header <span class="kw">in</span> df_air.columns: <span class="co"># data.columns is your list of headers</span></span>
<span id="cb26-3"><a href=""></a>    header <span class="op">=</span> header.strip(<span class="st">'"'</span>) <span class="co"># Remove the quotes off each header</span></span>
<span id="cb26-4"><a href=""></a>    new_headers.append(header) <span class="co"># Save the new strings without the quotes</span></span>
<span id="cb26-5"><a href=""></a>df_air.columns <span class="op">=</span> new_headers <span class="co"># Replace the old headers with the new list</span></span>
<span id="cb26-6"><a href=""></a><span class="bu">print</span>(df_air.head())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   siteid sitename  itemid itemname itemengname itemunit monitordate  \
0      80       關山       4     懸浮微粒        PM10    μg/m3  2024-01-01   
1      80       關山       5     氮氧化物         NOx      ppb  2024-01-01   
2      80       關山       6     一氧化氮          NO      ppb  2024-01-01   
3      80       關山       7     二氧化氮         NO2      ppb  2024-01-01   
4      80       關山      10       風速  WIND_SPEED    m/sec  2024-01-01   

  concentration  
0            33  
1           3.8  
2           0.5  
3           3.2  
4           2.2  </code></pre>
</div>
</div>
</section>
<section id="hands-on---line-plot-4" class="slide level2">
<h2>Hands-on - Line Plot</h2>
<p>Data Clean</p>
<div id="f7eda6e7" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href=""></a>df_air.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="597">
<pre><code>siteid            int64
sitename         object
itemid            int64
itemname         object
itemengname      object
itemunit         object
monitordate      object
concentration    object
dtype: object</code></pre>
</div>
</div>
<div id="398bd03b" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href=""></a>df_air[<span class="st">'concentration'</span>] <span class="op">=</span> pd.to_numeric(df_air[<span class="st">'concentration'</span>].replace(<span class="st">"x"</span>,np.nan))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="hands-on---line-plot-5" class="slide level2">
<h2>Hands-on - Line Plot</h2>
<p>Data Clean</p>
<div id="72817d5e" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href=""></a><span class="co"># Parse String To DateTime</span></span>
<span id="cb31-2"><a href=""></a>df_air[<span class="st">'DateTime'</span>]<span class="op">=</span>pd.to_datetime(df_air[<span class="st">'monitordate'</span>],</span>
<span id="cb31-3"><a href=""></a>                              <span class="bu">format</span><span class="op">=</span><span class="st">'%Y-%m-</span><span class="sc">%d</span><span class="st">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="6af0f845" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href=""></a>df_air.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="600">
<pre><code>siteid                    int64
sitename                 object
itemid                    int64
itemname                 object
itemengname              object
itemunit                 object
monitordate              object
concentration           float64
DateTime         datetime64[ns]
dtype: object</code></pre>
</div>
</div>
</section>
<section id="hands-on---line-plot-6" class="slide level2">
<h2>Hands-on - Line Plot</h2>
<p>請試著呈現林口測站在2024/1/1~2024/1/15的PM2.5濃度</p>
<div id="3bde2146" class="cell" data-execution_count="28">
<div class="cell-output cell-output-stdout">
<pre><code>       siteid sitename  itemid itemname itemengname itemunit monitordate  \
978         9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-01   
1262        9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-02   
3105        9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-03   
3337        9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-04   
4521        9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-05   
5502        9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-06   
7452        9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-07   
7901        9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-08   
8853        9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-09   
9946        9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-10   
11105       9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-11   
12241       9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-12   
13228       9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-13   
15186       9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-14   
15416       9       林口      33    細懸浮微粒       PM2.5    μg/m3  2024-01-15   

       concentration   DateTime  
978             24.0 2024-01-01  
1262            13.0 2024-01-02  
3105            15.1 2024-01-03  
3337            15.9 2024-01-04  
4521            23.5 2024-01-05  
5502            20.6 2024-01-06  
7452            20.2 2024-01-07  
7901            12.6 2024-01-08  
8853             5.8 2024-01-09  
9946            27.3 2024-01-10  
11105           19.7 2024-01-11  
12241           10.1 2024-01-12  
13228            4.5 2024-01-13  
15186            6.3 2024-01-14  
15416           19.2 2024-01-15  </code></pre>
</div>
</div>
</section>
<section id="hands-on---line-plot-7" class="slide level2">
<h2>Hands-on - Line Plot</h2>
<p>請試著呈現林口測站在2024/1/1~2024/1/15的PM2.5濃度</p>
<div id="f75e0825" class="cell" data-execution_count="29">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-30-output-1.png" width="783" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="hands-on---line-plot---seaborn" class="slide level2">
<h2>Hands-on - Line Plot - Seaborn</h2>
<p><code>sns.lineplot(x,y)</code></p>
<div id="485ed966" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href=""></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb35-2"><a href=""></a>sns.lineplot(x<span class="op">=</span>pm25Linkou2024[<span class="st">'DateTime'</span>], y<span class="op">=</span>pm25Linkou2024[<span class="st">'concentration'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-31-output-1.png" width="802" height="426"></p>
</figure>
</div>
</div>
</div>
</section></section>
<section>
<section id="simple-scatter-plots" class="title-slide slide level1 center">
<h1>Simple Scatter Plots</h1>

</section>
<section id="what-is-a-scatter-plot" class="slide level2">
<h2>What is a Scatter Plot?</h2>
<ul>
<li>A <strong>scatter plot</strong> displays individual data points as dots, circles, or other shapes, rather than connecting them with lines.</li>
<li>Useful for visualizing the relationship between two or more variables.</li>
</ul>
</section>
<section id="scatter-plots-with-plt.plot" class="slide level2">
<h2>Scatter Plots with <code>plt.plot()</code></h2>
<p><code>plt.plot(x,y,marker,color)</code></p>
<div id="6d063d54" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href=""></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">30</span>)</span>
<span id="cb36-2"><a href=""></a>y <span class="op">=</span> np.sin(x)</span>
<span id="cb36-3"><a href=""></a>plt.plot(x, y, <span class="st">'o'</span>, color<span class="op">=</span><span class="st">'black'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-32-output-1.png" width="807" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="scatter-plots---marker-shape" class="slide level2">
<h2>Scatter Plots - marker shape</h2>
<p><code>'o'</code>, <code>'.'</code>, <code>','</code>, <code>'x'</code>, <code>'+'</code>, <code>'v'</code>, <code>'^'</code>, <code>''</code>, <code>'s'</code>, <code>'d'</code> …</p>
<div id="49d06b8e" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href=""></a>rng <span class="op">=</span> np.random.RandomState(<span class="dv">0</span>)</span>
<span id="cb37-2"><a href=""></a><span class="cf">for</span> marker <span class="kw">in</span> [<span class="st">'o'</span>, <span class="st">'.'</span>, <span class="st">','</span>, <span class="st">'x'</span>, <span class="st">'+'</span>, <span class="st">'v'</span>, <span class="st">'^'</span>, <span class="st">''</span>, <span class="st">'s'</span>, <span class="st">'d'</span>]:</span>
<span id="cb37-3"><a href=""></a>    plt.plot(rng.rand(<span class="dv">5</span>), rng.rand(<span class="dv">5</span>), marker, label<span class="op">=</span><span class="ss">f"marker='</span><span class="sc">{</span>marker<span class="sc">}</span><span class="ss">'"</span>)</span>
<span id="cb37-4"><a href=""></a>plt.legend()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-33-output-1.png" width="786" height="408"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="line-styles-and-marker-shape" class="slide level2">
<h2>Line styles and marker shape</h2>
<p>Combine marker and line styles for more complex plots</p>
<div id="c372c7af" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href=""></a>plt.plot(x, y, <span class="st">'-ok'</span>) <span class="co"># solid, circle, black</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-34-output-1.png" width="807" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="line-styles-and-marker-shape-1" class="slide level2">
<h2>Line styles and marker shape</h2>
<p>Customize markers and lines with additional arguments</p>
<div id="b4f9a627" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href=""></a>plt.plot(x, y, <span class="st">'-p'</span>, color<span class="op">=</span><span class="st">'gray'</span>, <span class="co"># solid, pentagon</span></span>
<span id="cb39-2"><a href=""></a>         markersize<span class="op">=</span><span class="dv">15</span>, linewidth<span class="op">=</span><span class="dv">4</span>,</span>
<span id="cb39-3"><a href=""></a>         markerfacecolor<span class="op">=</span><span class="st">'white'</span>,</span>
<span id="cb39-4"><a href=""></a>         markeredgecolor<span class="op">=</span><span class="st">'gray'</span>,</span>
<span id="cb39-5"><a href=""></a>         markeredgewidth<span class="op">=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-35-output-1.png" width="807" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="scatter-plots-with-plt.scatter" class="slide level2">
<h2>Scatter Plots with <code>plt.scatter</code></h2>
<p><code>plt.scatter()</code> allowing individual control over each point’s <strong>size</strong>, <strong>color</strong>, and other properties.</p>
<div id="0391fa84" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href=""></a>plt.scatter(x, y, marker<span class="op">=</span><span class="st">'o'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-36-output-1.png" width="807" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="with-varying-color-and-size---bubble-chart" class="slide level2">
<h2>with varying color and size - Bubble chart</h2>
<p>Data:</p>
<div id="045d6da3" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href=""></a>rng <span class="op">=</span> np.random.RandomState(<span class="dv">0</span>)</span>
<span id="cb41-2"><a href=""></a>x <span class="op">=</span> rng.randn(<span class="dv">100</span>)</span>
<span id="cb41-3"><a href=""></a>y <span class="op">=</span> rng.randn(<span class="dv">100</span>)</span>
<span id="cb41-4"><a href=""></a>colors <span class="op">=</span> rng.rand(<span class="dv">100</span>)</span>
<span id="cb41-5"><a href=""></a>sizes <span class="op">=</span> <span class="dv">1000</span> <span class="op">*</span> rng.rand(<span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Parameters:</p>
<ul>
<li><code>c</code>: color for each point</li>
<li><code>s</code> size</li>
<li><code>alpha</code> transparency</li>
<li><code>cmap</code> colormap (more details later)</li>
</ul>
</section>
<section id="with-varying-color-and-size---bubble-chart-1" class="slide level2">
<h2>with varying color and size - Bubble chart</h2>
<div id="599309b8" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href=""></a>plt.scatter(x, y, c<span class="op">=</span>colors, s<span class="op">=</span>sizes, alpha<span class="op">=</span><span class="fl">0.3</span>, cmap<span class="op">=</span><span class="st">'viridis'</span>)</span>
<span id="cb42-2"><a href=""></a>plt.colorbar()  <span class="co"># Show color scale</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-38-output-1.png" width="719" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="visualizing-multidimensional-data" class="slide level2">
<h2>Visualizing Multidimensional Data</h2>
<p>Example: Iris dataset, visualizing four features at once.</p>
<p>Data:</p>
<div id="cae5eb35" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href=""></a><span class="co"># !pip3 install scikit-learn</span></span>
<span id="cb43-2"><a href=""></a><span class="im">from</span> sklearn.datasets <span class="im">import</span> load_iris</span>
<span id="cb43-3"><a href=""></a>iris <span class="op">=</span> load_iris()</span>
<span id="cb43-4"><a href=""></a>features <span class="op">=</span> iris.data.T</span>
<span id="cb43-5"><a href=""></a><span class="bu">print</span>(features)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[5.1 4.9 4.7 4.6 5.  5.4 4.6 5.  4.4 4.9 5.4 4.8 4.8 4.3 5.8 5.7 5.4 5.1
  5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.  5.  5.2 5.2 4.7 4.8 5.4 5.2 5.5 4.9 5.
  5.5 4.9 4.4 5.1 5.  4.5 4.4 5.  5.1 4.8 5.1 4.6 5.3 5.  7.  6.4 6.9 5.5
  6.5 5.7 6.3 4.9 6.6 5.2 5.  5.9 6.  6.1 5.6 6.7 5.6 5.8 6.2 5.6 5.9 6.1
  6.3 6.1 6.4 6.6 6.8 6.7 6.  5.7 5.5 5.5 5.8 6.  5.4 6.  6.7 6.3 5.6 5.5
  5.5 6.1 5.8 5.  5.6 5.7 5.7 6.2 5.1 5.7 6.3 5.8 7.1 6.3 6.5 7.6 4.9 7.3
  6.7 7.2 6.5 6.4 6.8 5.7 5.8 6.4 6.5 7.7 7.7 6.  6.9 5.6 7.7 6.3 6.7 7.2
  6.2 6.1 6.4 7.2 7.4 7.9 6.4 6.3 6.1 7.7 6.3 6.4 6.  6.9 6.7 6.9 5.8 6.8
  6.7 6.7 6.3 6.5 6.2 5.9]
 [3.5 3.  3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 3.7 3.4 3.  3.  4.  4.4 3.9 3.5
  3.8 3.8 3.4 3.7 3.6 3.3 3.4 3.  3.4 3.5 3.4 3.2 3.1 3.4 4.1 4.2 3.1 3.2
  3.5 3.6 3.  3.4 3.5 2.3 3.2 3.5 3.8 3.  3.8 3.2 3.7 3.3 3.2 3.2 3.1 2.3
  2.8 2.8 3.3 2.4 2.9 2.7 2.  3.  2.2 2.9 2.9 3.1 3.  2.7 2.2 2.5 3.2 2.8
  2.5 2.8 2.9 3.  2.8 3.  2.9 2.6 2.4 2.4 2.7 2.7 3.  3.4 3.1 2.3 3.  2.5
  2.6 3.  2.6 2.3 2.7 3.  2.9 2.9 2.5 2.8 3.3 2.7 3.  2.9 3.  3.  2.5 2.9
  2.5 3.6 3.2 2.7 3.  2.5 2.8 3.2 3.  3.8 2.6 2.2 3.2 2.8 2.8 2.7 3.3 3.2
  2.8 3.  2.8 3.  2.8 3.8 2.8 2.8 2.6 3.  3.4 3.1 3.  3.1 3.1 3.1 2.7 3.2
  3.3 3.  2.5 3.  3.4 3. ]
 [1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 1.5 1.6 1.4 1.1 1.2 1.5 1.3 1.4
  1.7 1.5 1.7 1.5 1.  1.7 1.9 1.6 1.6 1.5 1.4 1.6 1.6 1.5 1.5 1.4 1.5 1.2
  1.3 1.4 1.3 1.5 1.3 1.3 1.3 1.6 1.9 1.4 1.6 1.4 1.5 1.4 4.7 4.5 4.9 4.
  4.6 4.5 4.7 3.3 4.6 3.9 3.5 4.2 4.  4.7 3.6 4.4 4.5 4.1 4.5 3.9 4.8 4.
  4.9 4.7 4.3 4.4 4.8 5.  4.5 3.5 3.8 3.7 3.9 5.1 4.5 4.5 4.7 4.4 4.1 4.
  4.4 4.6 4.  3.3 4.2 4.2 4.2 4.3 3.  4.1 6.  5.1 5.9 5.6 5.8 6.6 4.5 6.3
  5.8 6.1 5.1 5.3 5.5 5.  5.1 5.3 5.5 6.7 6.9 5.  5.7 4.9 6.7 4.9 5.7 6.
  4.8 4.9 5.6 5.8 6.1 6.4 5.6 5.1 5.6 6.1 5.6 5.5 4.8 5.4 5.6 5.1 5.1 5.9
  5.7 5.2 5.  5.2 5.4 5.1]
 [0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 0.2 0.2 0.1 0.1 0.2 0.4 0.4 0.3
  0.3 0.3 0.2 0.4 0.2 0.5 0.2 0.2 0.4 0.2 0.2 0.2 0.2 0.4 0.1 0.2 0.2 0.2
  0.2 0.1 0.2 0.2 0.3 0.3 0.2 0.6 0.4 0.3 0.2 0.2 0.2 0.2 1.4 1.5 1.5 1.3
  1.5 1.3 1.6 1.  1.3 1.4 1.  1.5 1.  1.4 1.3 1.4 1.5 1.  1.5 1.1 1.8 1.3
  1.5 1.2 1.3 1.4 1.4 1.7 1.5 1.  1.1 1.  1.2 1.6 1.5 1.6 1.5 1.3 1.3 1.3
  1.2 1.4 1.2 1.  1.3 1.2 1.3 1.3 1.1 1.3 2.5 1.9 2.1 1.8 2.2 2.1 1.7 1.8
  1.8 2.5 2.  1.9 2.1 2.  2.4 2.3 1.8 2.2 2.3 1.5 2.3 2.  2.  1.8 2.1 1.8
  1.8 1.8 2.1 1.6 1.9 2.  2.2 1.5 1.4 2.3 2.4 1.8 1.8 2.1 2.4 2.3 1.9 2.3
  2.5 2.3 1.9 2.  2.3 1.8]]</code></pre>
</div>
</div>
</section>
<section id="visualizing-multidimensional-data-1" class="slide level2">
<h2>Visualizing Multidimensional Data</h2>
<p>x/y positions, size, and color all encode different data dimensions.</p>
<div id="c54c1cb7" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href=""></a>plt.scatter(features[<span class="dv">0</span>], features[<span class="dv">1</span>], alpha<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb45-2"><a href=""></a>            s<span class="op">=</span><span class="dv">100</span><span class="op">*</span>features[<span class="dv">3</span>], c<span class="op">=</span>iris.target, cmap<span class="op">=</span><span class="st">'viridis'</span>)</span>
<span id="cb45-3"><a href=""></a>plt.xlabel(iris.feature_names[<span class="dv">0</span>])</span>
<span id="cb45-4"><a href=""></a>plt.ylabel(iris.feature_names[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="612">
<pre><code>Text(0, 0.5, 'sepal width (cm)')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-40-output-2.png" width="806" height="429"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="visualizing-multidimensional-data-2" class="slide level2">
<h2>Visualizing Multidimensional Data</h2>
<div id="75d3c281" class="cell" data-execution_count="40">
<div class="cell-output cell-output-display" data-execution_count="613">
<pre><code>Text(0, 0.5, 'sepal width (cm)')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-41-output-2.png" width="806" height="429"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="plot-vs.-scatter-efficiency-note" class="slide level2">
<h2><code>plot</code> vs.&nbsp;<code>scatter</code>: Efficiency Note</h2>
<ul>
<li>For small datasets, both <code>plt.plot</code> and <code>plt.scatter</code> work well.</li>
<li>For large datasets (thousands of points or more), <code>plt.plot</code> is more efficient because all points are rendered with the same style.</li>
<li><code>plt.scatter</code> is less efficient for large datasets since it allows per-point customization and must render each point individually.</li>
</ul>
</section>
<section id="hands-on---scatter-plot" class="slide level2">
<h2>Hands-on - Scatter Plot</h2>
<p>試著看看空氣污染資料中，NO2濃度與SO2濃度有沒有相關？</p>
<div id="78fed92e" class="cell" data-execution_count="41">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-42-output-1.png" width="783" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="hands-on---scatter-plot-1" class="slide level2">
<h2>Hands-on - Scatter Plot</h2>
<p>使用泡泡圖呈現NO2與SO2的關係，並用風速（WIND_SPEED）當作泡泡大小，觀察這些資料是否有相關</p>
<div id="34e88063" class="cell" data-execution_count="42">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-43-output-1.png" width="783" height="407"></p>
</figure>
</div>
</div>
</div>
</section></section>
<section>
<section id="visualizing-errors" class="title-slide slide level1 center">
<h1>Visualizing Errors</h1>

</section>
<section id="why-show-error-bars" class="slide level2">
<h2>Why Show Error Bars?</h2>
<ul>
<li>Error bars represent the uncertainty or variability in your data.</li>
<li>They help communicate the reliability and precision of measurements.</li>
<li>For example, reporting a measurement as <span class="math display">\[74 \pm 5\]</span> is much more informative than just 74</li>
</ul>
</section>
<section id="basic-error-bars-with-plt.errorbar" class="slide level2">
<h2>Basic Error Bars with <code>plt.errorbar</code></h2>
<p><code>plt.errorbar</code>: add error bars to your plots</p>
<ul>
<li><code>yerr</code> specifies the <strong>vertical</strong> error bar size</li>
<li><code>fmt</code> controls the marker and line style (same as in <code>plt.plot</code>)</li>
</ul>
<p>Data:</p>
<div id="012ab2fc" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href=""></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">50</span>)</span>
<span id="cb48-2"><a href=""></a>dy <span class="op">=</span> <span class="fl">0.8</span></span>
<span id="cb48-3"><a href=""></a>y <span class="op">=</span> np.sin(x) <span class="op">+</span> dy <span class="op">*</span> np.random.randn(<span class="dv">50</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="basic-error-bars-with-plt.errorbar-1" class="slide level2">
<h2>Basic Error Bars with <code>plt.errorbar</code></h2>
<p>Plot: <code>plt.errorbar(x, y, yerr=error size, fmt = style)</code></p>
<div id="8cb63bd6" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href=""></a>plt.errorbar(x, y, yerr<span class="op">=</span>dy, fmt<span class="op">=</span><span class="st">'.k'</span>)</span>
<span id="cb49-2"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-45-output-1.png" width="789" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="customizing-error-bars" class="slide level2">
<h2>Customizing Error Bars</h2>
<p>You can adjust the appearance for clarity, especially in crowded plots:</p>
<ul>
<li><code>ecolor</code>: color of the error bars</li>
<li><code>elinewidth</code>: width of error bar lines</li>
<li><code>capsize</code>: size of the error bar caps</li>
</ul>
</section>
<section id="customizing-error-bars-1" class="slide level2">
<h2>Customizing Error Bars</h2>
<div id="e0f928f6" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href=""></a>plt.errorbar(</span>
<span id="cb50-2"><a href=""></a>    x, y, yerr<span class="op">=</span>dy, fmt<span class="op">=</span><span class="st">'o'</span>, color<span class="op">=</span><span class="st">'black'</span>,</span>
<span id="cb50-3"><a href=""></a>    ecolor<span class="op">=</span><span class="st">'lightgray'</span>, elinewidth<span class="op">=</span><span class="dv">3</span>, capsize<span class="op">=</span><span class="dv">0</span></span>
<span id="cb50-4"><a href=""></a>)</span>
<span id="cb50-5"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-46-output-1.png" width="789" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="horizontal-and-one-sided-error-bars" class="slide level2">
<h2>Horizontal and One-Sided Error Bars</h2>
<p>Add <strong>horizontal</strong> error bars using <code>xerr</code></p>
<div id="ebb0a7ec" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href=""></a>plt.errorbar(x, y, xerr<span class="op">=</span><span class="fl">0.5</span>, fmt<span class="op">=</span><span class="st">'o'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-47-output-1.png" width="789" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="summary-common-error-bar-options" class="slide level2">
<h2>Summary: Common Error Bar Options</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>yerr</code></td>
<td>Vertical error bar sizes</td>
</tr>
<tr class="even">
<td><code>xerr</code></td>
<td>Horizontal error bar sizes</td>
</tr>
<tr class="odd">
<td><code>fmt</code></td>
<td>Format string for marker/line style</td>
</tr>
<tr class="even">
<td><code>ecolor</code></td>
<td>Color of error bars</td>
</tr>
<tr class="odd">
<td><code>elinewidth</code></td>
<td>Line width of error bars</td>
</tr>
<tr class="even">
<td><code>capsize</code></td>
<td>Size of caps at the ends of error bars</td>
</tr>
</tbody>
</table>
</section>
<section id="key-takeaways" class="slide level2">
<h2>Key Takeaways</h2>
<ul>
<li>Use error bars to show uncertainty in your data.</li>
<li><code>plt.errorbar</code> is flexible and customizable for both simple and advanced needs.</li>
<li>See the <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.errorbar.html">Matplotlib documentation</a> for more options.</li>
</ul>
</section></section>
<section>
<section id="density-and-contour-plots" class="title-slide slide level1 center">
<h1>Density and Contour Plots</h1>

</section>
<section id="introduction" class="slide level2">
<h2>Introduction</h2>
<ul>
<li><strong>Density</strong> and <strong>contour</strong> plots are useful for visualizing three-dimensional data in two dimensions using contours (lines) or color-coded regions.</li>
<li>Matplotlib provides three main functions for this purpose:
<ul>
<li><code>plt.contour()</code> for contour lines</li>
<li><code>plt.contourf()</code> for filled contours</li>
<li><code>plt.imshow()</code> for displaying images</li>
</ul></li>
</ul>
</section>
<section id="creating-a-contour-plot" class="slide level2">
<h2>Creating a Contour Plot</h2>
<ul>
<li>Contour plots require a function <span class="math display">\[ z = f(x, y) \]</span> evaluated on a grid.</li>
<li>Use <code>np.meshgrid</code> to create the grid:</li>
</ul>
<div id="3c10c4d0" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href=""></a><span class="kw">def</span> f(x, y):</span>
<span id="cb52-2"><a href=""></a>    <span class="cf">return</span> np.sin(x) <span class="op">**</span> <span class="dv">10</span> <span class="op">+</span> np.cos(<span class="dv">10</span> <span class="op">+</span> y <span class="op">*</span> x) <span class="op">*</span> np.cos(x)</span>
<span id="cb52-3"><a href=""></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">50</span>)</span>
<span id="cb52-4"><a href=""></a>y <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">40</span>)</span>
<span id="cb52-5"><a href=""></a>X, Y <span class="op">=</span> np.meshgrid(x, y)</span>
<span id="cb52-6"><a href=""></a>Z <span class="op">=</span> f(X, Y)</span>
<span id="cb52-7"><a href=""></a><span class="bu">print</span>(Z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[-0.83907153 -0.83470697 -0.8216586  ...  0.8956708   0.68617261
   0.41940746]
 [-0.83907153 -0.8275558  -0.80744041 ...  0.93467448  0.77467433
   0.55894214]
 [-0.83907153 -0.820263   -0.79266951 ...  0.98503397  0.88847607
   0.73757604]
 ...
 [-0.83907153 -0.48696962 -0.02692065 ...  0.98525345  0.79584263
   0.46799565]
 [-0.83907153 -0.47558005 -0.00130271 ...  0.93488414  0.6993547
   0.37933079]
 [-0.83907153 -0.46410908  0.02431613 ...  0.89579384  0.65690314
   0.40107702]]</code></pre>
</div>
</div>
</section>
<section id="basic-contour-plot" class="slide level2">
<h2>Basic contour plot</h2>
<p><code>plt.contour(X, Y, Z, colors)</code></p>
<div id="bba89363" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href=""></a>plt.contour(X, Y, Z, colors<span class="op">=</span><span class="st">'black'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-49-output-1.png" width="779" height="412"></p>
</figure>
</div>
</div>
</div>
<p>Negative values are dashed lines, positive values are solid lines</p>
</section>
<section id="color-coded-contour-plot" class="slide level2">
<h2>Color-Coded Contour Plot</h2>
<ul>
<li><code>cmap</code>: to specify a colormap</li>
<li>set the number of contour levels <code>20</code></li>
</ul>
<div id="07c07719" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href=""></a>plt.contour(X, Y, Z, <span class="dv">20</span>, cmap<span class="op">=</span><span class="st">'RdGy'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-50-output-1.png" width="779" height="412"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="filled-contour-plot" class="slide level2">
<h2>Filled Contour Plot</h2>
<ul>
<li><code>plt.contourf()</code> for <strong>filled</strong> contours</li>
<li>add a colorbar <code>plt.colorbar()</code> for reference:</li>
</ul>
<div id="8db43dc7" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href=""></a>plt.contourf(X, Y, Z, <span class="dv">20</span>, cmap<span class="op">=</span><span class="st">'RdGy'</span>)</span>
<span id="cb56-2"><a href=""></a>plt.colorbar()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-51-output-1.png" width="719" height="412"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="displaying-data-as-an-image" class="slide level2">
<h2>Displaying Data as an Image</h2>
<ul>
<li><code>plt.imshow</code> to display the grid as an image
<ul>
<li>does not accept x and y grids; set <code>extent</code> manually.</li>
<li>The default origin for <code>imshow</code> is the upper left; set <code>origin='lower'</code> for consistency with contour plots.</li>
</ul></li>
</ul>
<div id="a714dece" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href=""></a>plt.imshow(Z, extent<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">5</span>], origin<span class="op">=</span><span class="st">'lower'</span>, cmap<span class="op">=</span><span class="st">'RdGy'</span>)</span>
<span id="cb57-2"><a href=""></a>plt.colorbar()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-52-output-1.png" width="500" height="412"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="combining-contour-and-image-plots" class="slide level2">
<h2>Combining Contour and Image Plots</h2>
<p>Overlay contours on an image for richer visualization: <code>plt.clabel()</code>- label contour lines</p>
<div id="57901ef1" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href=""></a>contours <span class="op">=</span> plt.contour(X, Y, Z, <span class="dv">3</span>, colors<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb58-2"><a href=""></a>plt.clabel(contours, inline<span class="op">=</span><span class="va">True</span>, fontsize<span class="op">=</span><span class="dv">8</span>)</span>
<span id="cb58-3"><a href=""></a>plt.imshow(Z, extent<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">5</span>], origin<span class="op">=</span><span class="st">'lower'</span>, cmap<span class="op">=</span><span class="st">'RdGy'</span>, alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb58-4"><a href=""></a>plt.colorbar()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-53-output-1.png" width="500" height="412"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="summary-table-key-functions" class="slide level2">
<h2>Summary Table: Key Functions</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>plt.contour</code></td>
<td>Draws contour lines</td>
</tr>
<tr class="even">
<td><code>plt.contourf</code></td>
<td>Draws filled contours</td>
</tr>
<tr class="odd">
<td><code>plt.imshow</code></td>
<td>Displays a 2D array as an image</td>
</tr>
<tr class="even">
<td><code>plt.colorbar</code></td>
<td>Adds a colorbar to the plot</td>
</tr>
<tr class="odd">
<td><code>plt.clabel</code></td>
<td>Adds labels to contour lines</td>
</tr>
</tbody>
</table>
</section></section>
<section>
<section id="histograms-binnings-and-density" class="title-slide slide level1 center">
<h1>Histograms, Binnings, and Density</h1>

</section>
<section id="what-is-a-histogram" class="slide level2">
<h2>What is a Histogram?</h2>
<ul>
<li>Graphical representation of the <strong>distribution</strong> of numerical data.</li>
<li>It divides data into bins (intervals) and shows the frequency (count) of data points in each bin.</li>
<li>Useful as a first step in understanding a dataset.</li>
</ul>
</section>
<section id="creating-a-simple-histogram" class="slide level2">
<h2>Creating a Simple Histogram</h2>
<p><code>plt.hist(data)</code> displays the distribution of <code>data</code> in default bins</p>
<div id="ece712d6" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href=""></a>data <span class="op">=</span> np.random.randn(<span class="dv">1000</span>)</span>
<span id="cb59-2"><a href=""></a>plt.hist(data)</span>
<span id="cb59-3"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-54-output-1.png" width="790" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="customizing-histograms" class="slide level2">
<h2>Customizing Histograms</h2>
<p>Options to control calculation and display:</p>
<ul>
<li><code>bins</code>: Number of bins</li>
<li><code>alpha</code>: Transparency</li>
<li><code>histtype</code>: Type of histogram (e.g., <code>'stepfilled'</code>)</li>
<li><code>color</code>, <code>edgecolor</code>: Color settings</li>
</ul>
<div id="3e327ce4" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href=""></a>plt.hist(data, bins<span class="op">=</span><span class="dv">30</span>, alpha<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb60-2"><a href=""></a>         histtype<span class="op">=</span><span class="st">'stepfilled'</span>, color<span class="op">=</span><span class="st">'steelblue'</span>,</span>
<span id="cb60-3"><a href=""></a>         edgecolor<span class="op">=</span><span class="st">'none'</span>)</span>
<span id="cb60-4"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-55-output-1.png" width="783" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="customizing-histograms-1" class="slide level2">
<h2>Customizing Histograms</h2>
<div id="69352d53" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href=""></a>plt.hist(data, bins<span class="op">=</span><span class="dv">30</span>, alpha<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb61-2"><a href=""></a>         histtype<span class="op">=</span><span class="st">'stepfilled'</span>, color<span class="op">=</span><span class="st">'steelblue'</span>,</span>
<span id="cb61-3"><a href=""></a>         edgecolor<span class="op">=</span><span class="st">'none'</span>)</span>
<span id="cb61-4"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-56-output-1.png" width="783" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="comparing-multiple-distributions" class="slide level2">
<h2>Comparing Multiple Distributions</h2>
<p>Overlay several histograms using transparency for comparison.</p>
<p>Data:</p>
<div id="5e8e1e7c" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href=""></a>x1 <span class="op">=</span> np.random.normal(<span class="dv">0</span>, <span class="fl">0.8</span>, <span class="dv">1000</span>)</span>
<span id="cb62-2"><a href=""></a>x2 <span class="op">=</span> np.random.normal(<span class="op">-</span><span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1000</span>)</span>
<span id="cb62-3"><a href=""></a>x3 <span class="op">=</span> np.random.normal(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="comparing-multiple-distributions-1" class="slide level2">
<h2>Comparing Multiple Distributions</h2>
<p>Use <code>dict(parameters)</code> to set parameters</p>
<div id="7adcf499" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href=""></a>kwargs <span class="op">=</span> <span class="bu">dict</span>(histtype<span class="op">=</span><span class="st">'stepfilled'</span>, alpha<span class="op">=</span><span class="fl">0.3</span>, bins<span class="op">=</span><span class="dv">40</span>)</span>
<span id="cb63-2"><a href=""></a>plt.hist(x1, <span class="op">**</span>kwargs)</span>
<span id="cb63-3"><a href=""></a>plt.hist(x2, <span class="op">**</span>kwargs)</span>
<span id="cb63-4"><a href=""></a>plt.hist(x3, <span class="op">**</span>kwargs)</span>
<span id="cb63-5"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-58-output-1.png" width="783" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="two-dimensional-histograms" class="slide level2">
<h2>Two-Dimensional Histograms</h2>
<p><code>plt.hist2d(x, y)</code></p>
<p>Data</p>
<div id="d22604fc" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href=""></a>mean <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">0</span>]</span>
<span id="cb64-2"><a href=""></a>cov <span class="op">=</span> [[<span class="dv">1</span>, <span class="dv">1</span>], [<span class="dv">1</span>, <span class="dv">2</span>]]</span>
<span id="cb64-3"><a href=""></a>x, y <span class="op">=</span> np.random.multivariate_normal(mean, cov, <span class="dv">10000</span>).T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Figure</p>
<div id="0442cbc3" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href=""></a>plt.hist2d(x, y, bins<span class="op">=</span><span class="dv">30</span>, cmap<span class="op">=</span><span class="st">'Blues'</span>)</span>
<span id="cb65-2"><a href=""></a>cb <span class="op">=</span> plt.colorbar()</span>
<span id="cb65-3"><a href=""></a>cb.set_label(<span class="st">'counts in bin'</span>)</span>
<span id="cb65-4"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-60-output-1.png" width="741" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="two-dimensional-histograms-1" class="slide level2">
<h2>Two-Dimensional Histograms</h2>
<div id="ba599faf" class="cell" data-execution_count="60">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-61-output-1.png" width="741" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="hexagonal-binning" class="slide level2">
<h2>Hexagonal Binning</h2>
<p><code>plt.hexbin(x,y)</code> use hexagons for 2D binning</p>
<div id="a500592a" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href=""></a>plt.hexbin(x, y, gridsize<span class="op">=</span><span class="dv">30</span>, cmap<span class="op">=</span><span class="st">'Blues'</span>)</span>
<span id="cb66-2"><a href=""></a>cb <span class="op">=</span> plt.colorbar(label<span class="op">=</span><span class="st">'count in bin'</span>)</span>
<span id="cb66-3"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-62-output-1.png" width="741" height="410"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="summary-histogram-and-binning" class="slide level2">
<h2>Summary: Histogram and Binning</h2>
<table class="caption-top">
<colgroup>
<col style="width: 38%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>plt.hist</code></td>
<td>1D histogram plot</td>
</tr>
<tr class="even">
<td><code>plt.hist2d</code></td>
<td>2D histogram plot</td>
</tr>
<tr class="odd">
<td><code>plt.hexbin</code></td>
<td>2D hexagonal bin plot</td>
</tr>
</tbody>
</table>
</section>
<section id="hands-on---histogram" class="slide level2">
<h2>Hands-on - Histogram</h2>
<p>看看新竹與前鎮一氧化碳(CO)的資料分布是否有差異（疊在一張圖中）</p>
<div id="c9d7afdb" class="cell" data-execution_count="62">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-63-output-1.png" width="783" height="407"></p>
</figure>
</div>
</div>
</div>
</section></section>
<section>
<section id="customizing-plot-legends-and-colorbars" class="title-slide slide level1 center">
<h1>Customizing Plot Legends and Colorbars</h1>

</section>
<section id="creating-a-simple-legend" class="slide level2">
<h2>Creating a Simple Legend</h2>
<ul>
<li>Legends assign meaning to plot elements, making visualizations clearer and more informative.</li>
<li>The simplest way to add a legend is with <code>plt.legend()</code>.</li>
<li>Any plot element with a <code>label</code> will appear in the legend.</li>
</ul>
</section>
<section id="creating-a-simple-legend-1" class="slide level2">
<h2>Creating a Simple Legend</h2>
<div id="efbe79af" class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href=""></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">1000</span>)</span>
<span id="cb67-2"><a href=""></a>fig <span class="op">=</span> plt.figure()</span>
<span id="cb67-3"><a href=""></a>plt.plot(x, np.sin(x), <span class="st">'-b'</span>, label<span class="op">=</span><span class="st">'Sine'</span>)</span>
<span id="cb67-4"><a href=""></a>plt.plot(x, np.cos(x), <span class="st">'--r'</span>, label<span class="op">=</span><span class="st">'Cosine'</span>)</span>
<span id="cb67-5"><a href=""></a>plt.axis(<span class="st">'equal'</span>)</span>
<span id="cb67-6"><a href=""></a>plt.legend()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-64-output-1.png" width="789" height="407"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>By default, all labeled elements are included in the legend</li>
</ul>
</section>
<section id="customizing-legend-placement-and-appearance" class="slide level2">
<h2>Customizing Legend Placement and Appearance</h2>
<ul>
<li><strong>Location:</strong> Control legend placement with the <code>loc</code> parameter (e.g., <code>'upper left'</code>, <code>'lower center'</code>).</li>
<li><strong>Frame:</strong> Remove the legend box with <code>frameon=False</code>.</li>
<li><strong>Columns:</strong> Use <code>ncol</code> to arrange legend entries in multiple columns.</li>
<li><strong>Aesthetics:</strong> Customize with options like <code>fancybox</code>, <code>shadow</code>, <code>framealpha</code>, and <code>borderpad</code>.</li>
</ul>
</section>
<section id="legend-placement-and-appearance" class="slide level2">
<h2>Legend Placement and Appearance</h2>
<p>For more options, see the <code>plt.legend</code> docstring.</p>
<div id="38585936" class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href=""></a>plt.plot(x, np.cos(x), <span class="st">'--r'</span>, label<span class="op">=</span><span class="st">'Cosine'</span>)</span>
<span id="cb68-2"><a href=""></a>plt.legend(loc<span class="op">=</span><span class="st">'upper left'</span>, frameon<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-65-output-1.png" width="807" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="legend-placement-and-appearance-1" class="slide level2">
<h2>Legend Placement and Appearance</h2>
<div id="3333a31d" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href=""></a>plt.plot(x, np.cos(x), <span class="st">'--r'</span>, label<span class="op">=</span><span class="st">'Cosine'</span>)</span>
<span id="cb69-2"><a href=""></a>plt.plot(x, np.sin(x), <span class="st">'-b'</span>, label<span class="op">=</span><span class="st">'Sine'</span>)</span>
<span id="cb69-3"><a href=""></a>plt.legend(frameon<span class="op">=</span><span class="va">False</span>, loc<span class="op">=</span><span class="st">'lower center'</span>, ncol<span class="op">=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-66-output-1.png" width="807" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="choosing-elements-for-the-legend" class="slide level2">
<h2>Choosing Elements for the Legend</h2>
<p>To control which elements appear, pass specific plot objects and labels to <code>legend()</code></p>
<div id="d75a04ee" class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href=""></a>y <span class="op">=</span> np.sin(x[:, np.newaxis] <span class="op">+</span> np.pi <span class="op">*</span> np.arange(<span class="dv">0</span>, <span class="dv">2</span>, <span class="fl">0.5</span>))</span>
<span id="cb70-2"><a href=""></a>lines <span class="op">=</span> plt.plot(x, y)</span>
<span id="cb70-3"><a href=""></a>plt.legend(lines[:<span class="dv">2</span>], [<span class="st">'first'</span>, <span class="st">'second'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-67-output-1.png" width="807" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="choosing-elements-for-the-legend-1" class="slide level2">
<h2>Choosing Elements for the Legend</h2>
<p>Or only <code>label</code> the elements you want in the legend</p>
<div id="91331b70" class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href=""></a>plt.plot(x, y[:, <span class="dv">0</span>], label<span class="op">=</span><span class="st">'first'</span>)</span>
<span id="cb71-2"><a href=""></a>plt.plot(x, y[:, <span class="dv">1</span>], label<span class="op">=</span><span class="st">'second'</span>)</span>
<span id="cb71-3"><a href=""></a>plt.plot(x, y[:, <span class="dv">2</span>:])</span>
<span id="cb71-4"><a href=""></a>plt.legend(framealpha<span class="op">=</span><span class="dv">1</span>, frameon<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-68-output-1.png" width="807" height="407"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="key-points" class="slide level2">
<h2>Key Points</h2>
<ul>
<li>Use <code>label</code> in plotting commands and call <code>legend()</code> to create legends.</li>
<li>Customize legends with location, columns, frame, and more.</li>
<li>Control legend entries by labeling only desired elements or passing specific objects.</li>
</ul>
</section>
<section id="why-use-colorbars" class="slide level2">
<h2>Why Use Colorbars?</h2>
<ul>
<li>Provide a key for interpreting the meaning of colors in plots</li>
<li>While legends are for discrete labels, colorbars are essential for continuous labels</li>
</ul>
</section>
<section id="creating-a-basic-colorbar" class="slide level2">
<h2>Creating a Basic Colorbar</h2>
<p>Data:</p>
<div id="afbdb310" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href=""></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">1000</span>)</span>
<span id="cb72-2"><a href=""></a>I <span class="op">=</span> np.sin(x) <span class="op">*</span> np.cos(x[:, np.newaxis])</span>
<span id="cb72-3"><a href=""></a><span class="bu">print</span>(I)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[ 0.          0.01000984  0.02001868 ... -0.52711499 -0.53559488
  -0.54402111]
 [ 0.          0.01000934  0.02001768 ... -0.52708858 -0.53556805
  -0.54399386]
 [ 0.          0.01000784  0.02001467 ... -0.52700936 -0.53548755
  -0.54391209]
 ...
 [-0.         -0.0085063  -0.01701176 ...  0.44793914  0.4551453
   0.46230586]
 [-0.         -0.00845306 -0.01690528 ...  0.44513546  0.45229652
   0.45941226]
 [-0.         -0.00839897 -0.01679711 ...  0.44228718  0.44940242
   0.45647263]]</code></pre>
</div>
</div>
</section>
<section id="creating-a-basic-colorbar-1" class="slide level2">
<h2>Creating a Basic Colorbar</h2>
<p>Add <code>plt.colorbar()</code> after using color mapping:</p>
<div id="287adcf8" class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href=""></a>plt.imshow(I)</span>
<span id="cb74-2"><a href=""></a>plt.colorbar()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-70-output-1.png" width="515" height="412"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="customizing-colormaps" class="slide level2">
<h2>Customizing Colormaps</h2>
<p>Specify a colormap with the <code>cmap</code> argument (check <code>plt.cm</code> namespace (e.g., <code>plt.cm.viridis</code>, <code>plt.cm.RdBu</code>))</p>
<div id="aa58effd" class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href=""></a>plt.imshow(I, cmap<span class="op">=</span><span class="st">'gray'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-71-output-1.png" width="415" height="412"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="types-of-colormaps" class="slide level2">
<h2>Types of Colormaps</h2>
<ul>
<li><strong>Sequential colormaps</strong>: One continuous color sequence (e.g., <code>binary</code>, <code>viridis</code>).</li>
<li><strong>Divergent colormaps</strong>: Two contrasting colors for positive/negative deviations (e.g., <code>RdBu</code>, <code>PuOr</code>).</li>
<li><strong>Qualitative colormaps</strong>: No particular sequence, for categorical data (e.g., <code>rainbow</code>, <code>jet</code>).</li>
</ul>
</section>
<section id="setting-color-limits-and-extensions" class="slide level2">
<h2>Setting Color Limits and Extensions</h2>
<ul>
<li>Manually set color limits with <code>plt.clim()</code> (to focus on a specific data range)</li>
<li>Indicate out-of-bounds values using the <code>extend</code> in <code>plt.colorbar()</code></li>
</ul>
<div id="55bc998e" class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href=""></a>plt.imshow(I, cmap<span class="op">=</span><span class="st">'RdBu'</span>)</span>
<span id="cb76-2"><a href=""></a>plt.colorbar(extend<span class="op">=</span><span class="st">'both'</span>)</span>
<span id="cb76-3"><a href=""></a>plt.clim(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-72-output-1.png" width="515" height="412"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="setting-color-limits-and-extensions-1" class="slide level2">
<h2>Setting Color Limits and Extensions</h2>
<div id="77c876c1" class="cell" data-execution_count="72">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-73-output-1.png" width="515" height="412"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="discrete-colorbars" class="slide level2">
<h2>Discrete Colorbars</h2>
<p>Represent discrete values: <code>plt.cm.get_cmap()</code> with number of bins</p>
<div id="c41e38e2" class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href=""></a>plt.imshow(I, cmap<span class="op">=</span>plt.cm.get_cmap(<span class="st">'Blues'</span>, <span class="dv">6</span>))</span>
<span id="cb77-2"><a href=""></a>plt.colorbar()</span>
<span id="cb77-3"><a href=""></a>plt.clim(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-74-output-1.png" width="515" height="412"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="key-points-1" class="slide level2">
<h2>Key Points</h2>
<ul>
<li>Use colorbars for continuous data and choose colormaps thoughtfully for clarity and accessibility.</li>
<li>Customize colorbars with colormap selection, color limits, extensions, and discrete bins.</li>
<li>Always consider how your color choices will appear in grayscale or to colorblind viewers.</li>
</ul>
</section></section>
<section>
<section id="multiple-subplots" class="title-slide slide level1 center">
<h1>Multiple Subplots</h1>

</section>
<section id="why-use-multiple-subplots" class="slide level2">
<h2>Why Use Multiple Subplots?</h2>
<ul>
<li>Comparing data side by side is often helpful for analysis and presentation.</li>
<li>Matplotlib allows you to arrange multiple smaller plots (subplots) within a single figure.</li>
<li>There are 3 Ways to Create Subplots</li>
</ul>
</section>
<section id="manual-placement-with-plt.axes" class="slide level2">
<h2>1. <strong>Manual Placement with</strong> <code>plt.axes</code></h2>
<p>Create axes anywhere in the figure by specifying <code>[left, bottom, width, height]</code> in figure coordinates (0 to 1).</p>
<div id="d77aef89" class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href=""></a>ax1 <span class="op">=</span> plt.axes()  <span class="co"># Standard axes</span></span>
<span id="cb78-2"><a href=""></a>ax2 <span class="op">=</span> plt.axes([<span class="fl">0.65</span>, <span class="fl">0.65</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>])  <span class="co"># Inset axes at top-right</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-75-output-1.png" width="796" height="412"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="simple-grids-with-plt.subplot" class="slide level2">
<h2>2. <strong>Simple Grids with</strong> <code>plt.subplot</code></h2>
<p>Create a grid of subplots by specifying rows, columns, and plot index (starts at 1, goes left-to-right, top-to-bottom). <code>plt.subplot(row, col, plot index)</code></p>
<div id="4517d149" class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href=""></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">7</span>):</span>
<span id="cb79-2"><a href=""></a>    plt.subplot(<span class="dv">2</span>, <span class="dv">3</span>, i)</span>
<span id="cb79-3"><a href=""></a>    plt.text(<span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="bu">str</span>((<span class="dv">2</span>, <span class="dv">3</span>, i)), fontsize<span class="op">=</span><span class="dv">18</span>, ha<span class="op">=</span><span class="st">'center'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-76-output-1.png" width="796" height="412"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="flexible-layouts-with-plt.gridspec" class="slide level2">
<h2>3. <strong>Flexible Layouts with</strong> <code>plt.GridSpec</code></h2>
<p>For more complex arrangements</p>
<div id="8dc1c0ab" class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href=""></a>grid <span class="op">=</span> plt.GridSpec(<span class="dv">2</span>, <span class="dv">3</span>, wspace<span class="op">=</span><span class="fl">0.4</span>, hspace<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb80-2"><a href=""></a>plt.subplot(grid[<span class="dv">0</span>, <span class="dv">0</span>])</span>
<span id="cb80-3"><a href=""></a>plt.subplot(grid[<span class="dv">0</span>, <span class="dv">1</span>:])</span>
<span id="cb80-4"><a href=""></a>plt.subplot(grid[<span class="dv">1</span>, :<span class="dv">2</span>])</span>
<span id="cb80-5"><a href=""></a>plt.subplot(grid[<span class="dv">1</span>, <span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="7_Visualization_files/figure-revealjs/cell-77-output-1.png" width="799" height="412"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="summary-table" class="slide level2">
<h2>Summary Table</h2>
<table class="caption-top">
<colgroup>
<col style="width: 27%">
<col style="width: 46%">
<col style="width: 26%">
</colgroup>
<thead>
<tr class="header">
<th>Method</th>
<th>Use Case</th>
<th>Access Pattern</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>plt.axes</code></td>
<td>Manual, precise placement</td>
<td>Variable names</td>
</tr>
<tr class="even">
<td><code>plt.subplot</code></td>
<td>Simple grid, small number of subplots</td>
<td>Index (1-based)</td>
</tr>
<tr class="odd">
<td><code>plt.GridSpec</code></td>
<td>Complex, flexible layouts</td>
<td>Slicing, subplots</td>
</tr>
</tbody>
</table>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="7_Visualization_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="7_Visualization_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="7_Visualization_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="7_Visualization_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="7_Visualization_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="7_Visualization_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="7_Visualization_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="7_Visualization_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="7_Visualization_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="7_Visualization_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>